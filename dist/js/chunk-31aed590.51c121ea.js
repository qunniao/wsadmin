(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31aed590"],{"54ef":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"header"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handleSecondDepShow(0)}}},[t._v("添加管理员")])],1),n("div",{staticClass:"table_body"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-key":"tid",border:"",size:"medium "}},[n("el-table-column",{attrs:{prop:"nickname",label:"名称","min-width":"180"}}),n("el-table-column",{attrs:{prop:"phone",label:"手机号","min-width":"180"}}),n("el-table-column",{attrs:{prop:"roleName",label:"角色","min-width":"180"}}),n("el-table-column",{attrs:{prop:"gmtCreate",label:"创建时间","min-width":"180"}}),n("el-table-column",{attrs:{prop:"gmtModified",label:"最近登录时间","min-width":"180"}}),n("el-table-column",{attrs:{label:"操作","min-width":"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){t.handleChange(e.row.uid)}}},[t._v("修改")]),1!=e.row.roleId?n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){t.handleSetRole(e.row.uid)}}},[t._v("设置角色")]):t._e(),1!=e.row.roleId?n("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(n){t.handleDel(e.row.uid)}}},[t._v("删除")]):t._e()]}}])})],1)],1),n("div",[n("el-dialog",{attrs:{title:this.isEdit?"修改管理员":"添加管理员","append-to-body":!0,visible:t.secondDepShow,width:"60%"},on:{"update:visible":function(e){t.secondDepShow=e}}},[t.secondDepShow?n("second-index",{attrs:{"admin-id":t.adminId},on:{"finish-action":t.getList,"close-form":function(e){t.secondDepShow=!1}}}):t._e()],1),n("el-dialog",{attrs:{title:"设置角色","append-to-body":!0,visible:t.setRoleDepShow,width:"60%"},on:{"update:visible":function(e){t.setRoleDepShow=e}}},[t.setRoleDepShow?n("role-index",{attrs:{"admin-id":t.adminId},on:{"finish-action":t.getList,"close-form":function(e){t.setRoleDepShow=!1}}}):t._e()],1)],1)])},i=[],a=n("c93e"),d=(n("cadf"),n("551c"),n("097d"),n("dfaf")),l=function(){return n.e("chunk-febf2cf8").then(n.bind(null,"82b1"))},c=function(){return n.e("chunk-191c09ba").then(n.bind(null,"083c"))},r={name:"prodList",data:function(){return{form:{size:10,current:1},tableData:[],totalCount:0,tableLoading:!1,isEdit:!1,adminId:0,secondDepShow:!1,setRoleDepShow:!1}},components:{SecondIndex:l,RoleIndex:c},methods:{getList:function(){var t=this,e=Object(a["a"])({},this.form);this.tableLoading=!0,Object(d["c"])(e).then(function(e){var n=e.data.data;console.log("getAdminListAPI"),console.log(e),t.totalCount=n.length,t.tableData=n}).catch(function(e){t.tableLoading=!1})},handleSecondDepShow:function(){this.secondDepShow=!0,this.depId=0,this.isEdit=!1},handleChange:function(t){this.adminId=t,this.isEdit=!1,this.secondDepShow=!0},handleSetRole:function(t){this.adminId=t,this.setRoleDepShow=!0},handleDel:function(t){var e=this;this.$confirm("确定进行删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var n={uids:t};Object(d["a"])(n).then(function(t){var n=t.data,o="success";200===n.code?e.getList():o="error",e.$message({type:o,message:"success"===o?"删除成功！":n.msg})})}).catch(function(){})}},created:function(){this.getList()}},s=r,u=(n("8e85"),n("2877")),h=Object(u["a"])(s,o,i,!1,null,"7ffa5147",null);h.options.__file="adminList.vue";e["default"]=h.exports},"595d":function(t,e,n){},"8e85":function(t,e,n){"use strict";var o=n("595d"),i=n.n(o);i.a},dfaf:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return d}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return r});n("cadf"),n("551c"),n("097d");var o=n("5bf4"),i=function(t){return Object(o["a"])({url:"/admins/listByAll",method:"get",headers:{token:localStorage.getItem("token")},params:t})},a=function(t){return Object(o["a"])({url:"/admins/delete",method:"DELETE",headers:{token:localStorage.getItem("token")},params:t})},d=function(t){return Object(o["a"])({url:"/admins/info/"+t,method:"get",headers:{token:localStorage.getItem("token")}})},l=function(t){return Object(o["a"])({url:"/admins/save",method:"post",headers:{token:localStorage.getItem("token")},data:t})},c=function(t){return Object(o["a"])({url:"/admins/update",method:"put",headers:{token:localStorage.getItem("token")},data:t})},r=function(t){return Object(o["a"])({url:"/admins/updateAdminRole",method:"post",headers:{token:localStorage.getItem("token"),"Content-Type":"application/x-www-form-urlencoded"},data:t})}}}]);