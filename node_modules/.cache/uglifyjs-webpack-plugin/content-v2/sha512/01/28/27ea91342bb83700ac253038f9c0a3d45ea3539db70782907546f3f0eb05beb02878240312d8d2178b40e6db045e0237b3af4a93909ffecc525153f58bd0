{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-25fb7ced\"],{\"5f2b\":function(e,t,o){\"use strict\";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",[o(\"div\",{staticClass:\"header\"},[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.exportExcel}},[e._v(\"导出\")]),o(\"el-button\",{attrs:{type:\"primary\"}},[e._v(\"待发货商品统计\")])],1),o(\"div\",{staticClass:\"filter\"},[o(\"el-form\",{staticClass:\"fl-l\",attrs:{inline:\"\"}},[o(\"el-form-item\",{attrs:{label:\"订单信息:\"}},[o(\"el-col\",{attrs:{span:24}},[o(\"el-input\",{attrs:{placeholder:\"请输入订单号\"},model:{value:e.form.search,callback:function(t){e.$set(e.form,\"search\",t)},expression:\"form.search\"}})],1)],1),o(\"el-form-item\",[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.getOrderList}},[e._v(\"查找\")])],1),o(\"el-form-item\",[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.changeshow}},[e._v(\"展开\")])],1),e.searchshow?o(\"div\",[o(\"el-form-item\",{attrs:{label:\"商品名称:\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入订单号\"},model:{value:e.form.search,callback:function(t){e.$set(e.form,\"search\",t)},expression:\"form.search\"}})],1),o(\"el-form-item\",{attrs:{label:\"下单时间:\"}},[o(\"el-date-picker\",{attrs:{type:\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.value1,callback:function(t){e.value1=t},expression:\"value1\"}})],1),o(\"el-form-item\",{attrs:{label:\"支付方式:\"}},[o(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:e.form.typeId,callback:function(t){e.$set(e.form,\"typeId\",t)},expression:\"form.typeId\"}},[o(\"el-option\",{attrs:{value:1,label:\"电商\"}}),o(\"el-option\",{attrs:{value:0,label:\"app\"}})],1)],1),o(\"el-form-item\",{attrs:{label:\"订单金额:\"}},[o(\"el-col\",{attrs:{span:8}},[o(\"el-input\",{attrs:{placeholder:\"请输入数字\"},model:{value:e.form.minStore,callback:function(t){e.$set(e.form,\"minStore\",t)},expression:\"form.minStore\"}})],1),o(\"el-col\",{staticClass:\"line\",staticStyle:{\"text-align\":\"center\"},attrs:{span:2}},[e._v(\"~\")]),o(\"el-col\",{attrs:{span:8}},[o(\"el-input\",{attrs:{placeholder:\"请输入数字\"},model:{value:e.form.maxStore,callback:function(t){e.$set(e.form,\"maxStore\",t)},expression:\"form.maxStore\"}})],1)],1),o(\"el-form-item\",{attrs:{label:\"收货人地区:\"}},[o(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:e.form.typeId,callback:function(t){e.$set(e.form,\"typeId\",t)},expression:\"form.typeId\"}})],1),o(\"el-form-item\",{attrs:{label:\"配送方式:\"}},[o(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:e.form.typeId,callback:function(t){e.$set(e.form,\"typeId\",t)},expression:\"form.typeId\"}})],1),o(\"el-form-item\",{attrs:{label:\"运单号:\"}},[o(\"el-col\",{attrs:{span:16}},[o(\"el-input\",{attrs:{placeholder:\"请输入规格货号\"},model:{value:e.form.productNumber,callback:function(t){e.$set(e.form,\"productNumber\",t)},expression:\"form.productNumber\"}})],1)],1),o(\"el-form-item\",{attrs:{label:\"退款状态:\"}},[o(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:e.form.typeId,callback:function(t){e.$set(e.form,\"typeId\",t)},expression:\"form.typeId\"}})],1),o(\"el-form-item\",{attrs:{label:\"是否云订单:\"}},[o(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:e.form.typeId,callback:function(t){e.$set(e.form,\"typeId\",t)},expression:\"form.typeId\"}})],1),o(\"el-form-item\",{attrs:{label:\"活动订单:\"}},[o(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:e.form.typeId,callback:function(t){e.$set(e.form,\"typeId\",t)},expression:\"form.typeId\"}})],1),o(\"el-form-item\",{attrs:{label:\"是否拆单:\"}},[o(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:e.form.typeId,callback:function(t){e.$set(e.form,\"typeId\",t)},expression:\"form.typeId\"}})],1)],1):e._e(),o(\"div\",{staticStyle:{\"margin-bottom\":\"10px\"}},e._l(e.shoptypelist,function(t){return o(\"el-tag\",{key:t.val,class:{active:t.val==e.form.orderState},on:{click:function(o){e.changesearchtype(t.val)}}},[e._v(e._s(t.name))])}))],1)],1),o(\"div\",{staticClass:\"table_body\"},[o(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:e.tableData,border:\"\",id:\"exportTab\",size:\"medium \",\"default-sort\":{prop:\"price\",order:\"descending\"}},on:{\"sort-change\":e.changetable}},[o(\"el-table-column\",{attrs:{prop:\"orderNumber\",label:\"订单编号\",\"min-width\":\"360\"}}),o(\"el-table-column\",{attrs:{prop:\"gmtCreate\",label:\"下单时间\",sortable:\"custom\",\"min-width\":\"180\"}}),o(\"el-table-column\",{attrs:{prop:\"contactName\",label:\"下单人\",sortable:\"custom\",\"min-width\":\"180\"}}),o(\"el-table-column\",{attrs:{prop:\"nick\",label:\"下单上级\",sortable:\"custom\",\"min-width\":\"180\"}}),o(\"el-table-column\",{attrs:{prop:\"productNum\",label:\"商品数量\",sortable:\"custom\",\"min-width\":\"180\"}}),o(\"el-table-column\",{attrs:{prop:\"payMoney\",label:\"订单金额\",\"min-width\":\"180\"}}),o(\"el-table-column\",{attrs:{prop:\"gmtCreate\",label:\"订单状态\",sortable:\"custom\",\"min-width\":\"180\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\"\\n              \"+e._s(e.orderstatelist[t.row.orderState])+\"\\n             \")]}}])}),o(\"el-table-column\",{attrs:{prop:\"gmtCreate\",label:\"是否删除\",sortable:\"custom\",\"min-width\":\"180\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\"\\n                \"+e._s(t.row.deleted?\"已删除\":\"未删除\")+\"\\n             \")]}}])}),o(\"el-table-column\",{attrs:{prop:\"contactName\",label:\"收货人\",sortable:\"custom\",\"min-width\":\"180\"}}),o(\"el-table-column\",{attrs:{label:\"操作\",\"min-width\":\"300\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(o){e.changeOrderShow(t.row.oid)}}},[e._v(\"订单详情\")]),4==t.row.orderState?o(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(o){e.changeOrderDeliverGoods(t.row.oid)}}},[e._v(\"发货\")]):e._e(),t.row.deleted?e._e():o(\"el-button\",{attrs:{type:\"danger\"},on:{click:function(o){e.delOrderDeliverGoods(t.row.oid)}}},[e._v(\"删除\")])]}}])})],1),o(\"div\",{staticClass:\"table-footer--APP\",attrs:{slot:\"append\"},slot:\"append\"},[o(\"el-pagination\",{attrs:{\"current-page\":e.form.page,\"page-sizes\":[10,20,30,40,50,60,70,80,90],\"page-size\":e.form.size,layout:\"total, sizes, prev, pager, next, jumper\",total:e.totalCount},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1),o(\"div\",[o(\"el-dialog\",{attrs:{title:\"订单详情\",\"append-to-body\":!0,visible:e.secondDepShow,width:\"80%\"},on:{\"update:visible\":function(t){e.secondDepShow=t}}},[e.secondDepShow?o(\"second-index\",{attrs:{\"order-id\":e.orderId},on:{\"finish-action\":e.getOrderList,\"close-form\":function(t){e.secondDepShow=!1}}}):e._e()],1)],1)],1)])},a=[],n=o(\"c93e\"),l=o(\"f72e\"),s=(o(\"761c\"),o(\"21a6\")),c=o.n(s),i=o(\"1146\"),d=o.n(i),u=function(){return o.e(\"chunk-c69427da\").then(o.bind(null,\"8225\"))},m={name:\"prodList\",data:function(){return{payfun:{1:\"打款凭证\",2:\"线上支付\"},orderstatelist:{\"-1\":\"已删除\",0:\"已关闭\",1:\"待确认\",2:\"待付款\",3:\"待总部处理\",4:\"待发货\",5:\"待收货\",6:\"待评价\",7:\"已完成\"},orderId:\"\",form:{current:1,size:10,orderState:\"\",sortType:\"1\"},freightlist:[],value1:[,],shoptypelist:[{name:\"全部\",val:\"\",nownum:\"\"},{name:\"待付款\",val:\"1\",nownum:\"\"},{name:\"待总部处理\",val:\"2\",nownum:\"\"},{name:\"待发货\",val:\"3\",nownum:\"\"},{name:\"待收货\",val:\"4\",nownum:\"\"},{name:\"已完成\",val:\"5\",nownum:\"\"},{name:\"已关闭\",val:\"6\",nownum:\"\"},{name:\"已删除\",val:\"7\",nownum:\"\"}],shoptype:1,shopClassification:\"\",ommodityType:\"\",searchshow:!1,keyword:\"\",tableData:[],totalCount:0,tableLoading:!1,modalAddDepShow:!1,isEdit:!1,depId:0,secondDepShow:!1}},components:{SecondIndex:u},methods:{changeOrderShow:function(e){this.orderId=e,console.log(e),console.log(this.orderId),this.secondDepShow=!0},delOrderDeliverGoods:function(e){var t=this;this.$confirm(\"确定要删除该订单么？（此操作不可逆）\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){var o={oids:e};Object(l[\"a\"])(o).then(function(e){200===e.data.code?(t.$message({type:\"success\",message:\"该订单已经删除\"}),t.getOrderList()):t.$message.error(e.data.msg)}).catch(function(e){})})},getOrderList:function(){var e=this,t=Object(n[\"a\"])({},this.form);this.tableLoading=!0,Object(l[\"b\"])(t).then(function(t){var o=t.data.data;e.totalCount=o.total,e.tableData=o.records,e.tableLoading=!1;var r=o.count;e.shoptypelist[0].nownum=r.putawayNum,e.shoptypelist[1].nownum=r.sellOutNum,e.shoptypelist[2].nownum=r.soldOutNum,e.shoptypelist[3].nownum=r.warningNum}).catch(function(t){e.tableLoading=!1})},changeOrderDeliverGoods:function(e){var t=this;Object(l[\"d\"])(e).then(function(e){var o=e.data,r=\"success\";200===o.code?t.getOrderList():r=\"error\",t.$message({type:r,message:\"success\"===r?\"操作成功！\":o.message})})},exportExcel:function(){var e={raw:!0},t=d.a.utils.table_to_book(document.querySelector(\"#exportTab\"),e),o=d.a.write(t,{bookType:\"xlsx\",bookSST:!0,type:\"array\"});try{c.a.saveAs(new Blob([o],{type:\"application/octet-stream\"}),\"订单信息表.xlsx\")}catch(e){\"undefined\"!==typeof console&&console.log(e,o)}return o},changesearchtype:function(e){this.form.orderState=e,this.getOrderList()},changetable:function(e){console.log(e),\"price\"==e.prop&&\"ascending\"==e.order?this.form.sortType=1:\"price\"==e.prop&&\"descending\"==e.order&&(this.form.sortType=2),console.log(this.form),this.getOrderList()},handleSizeChange:function(e){this.form.size=e,this.getOrderList()},handleCurrentChange:function(e){this.form.current=e,this.getOrderList()},handleAddDep:function(){this.depId=0,this.isEdit=!1,this.secondDepShow=!0},handleCheck:function(e,t){this.depId=t.pid,this.secondDepShow=!0,this.isEdit=!0},handleDel:function(e,t){var o=this,r=t.id;deleteFirstDepAPI(r).then(function(e){var t=e.data,r=\"success\";1e3===t.code?o.getOrderList():r=\"error\",o.$message({type:r,message:\"success\"===r?\"删除成功！\":t.msg})})},changeshow:function(){console.log(123),this.searchshow=!this.searchshow},handleSecondDepShow:function(){this.secondDepShow=!0,this.depId=0,this.isEdit=!1}},created:function(){this.getOrderList()}},p=m,f=(o(\"b087\"),o(\"2877\")),h=Object(f[\"a\"])(p,r,a,!1,null,\"3ad021c4\",null);h.options.__file=\"allOrderList.vue\";t[\"default\"]=h.exports},\"761c\":function(e,t,o){\"use strict\";o.d(t,\"a\",function(){return n}),o.d(t,\"c\",function(){return l}),o.d(t,\"d\",function(){return s}),o.d(t,\"b\",function(){return c}),o.d(t,\"e\",function(){return i}),o.d(t,\"f\",function(){return d});o(\"cadf\"),o(\"551c\"),o(\"097d\");var r=o(\"5bf4\"),a=o(\"4088\"),n=(\"\".concat(a[\"b\"],\"/upload\"),function(e){return Object(r[\"a\"])({url:\"/menuRoles/list\",headers:{token:localStorage.getItem(\"token\")},method:\"get\",params:e})}),l=function(e){return Object(r[\"a\"])({url:\"/admins/account\",method:\"post\",data:e,headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}})},s=function(e){return Object(r[\"a\"])({url:\"/admins/loginByPwd\",method:\"post\",data:e,headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}})},c=function(e){return Object(r[\"a\"])({url:\"/sms/send/sms\",method:\"post\",data:e,headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}})},i=function(e){return Object(r[\"a\"])({url:\"/admins/updatePassword\",method:\"post\",data:e})},d=function(e,t){var o=new Date;o.setTime(e);var r=o.getFullYear(),a=o.getMonth()+1<10?\"0\"+(o.getMonth()+1):o.getMonth()+1,n=o.getDate()<10?\"0\"+o.getDate():o.getDate(),l=o.getHours()<10?\"0\"+o.getHours():o.getHours(),s=o.getMinutes()<10?\"0\"+o.getMinutes():o.getMinutes(),c=o.getSeconds()<10?\"0\"+o.getSeconds():o.getSeconds();return\"1\"==t?r+\"年\"+a+\"月\"+n+\"日\":\"2\"==t?r+\"-\"+a+\"-\"+n:\"3\"==t?a+\"-\"+n:\"4\"==t?a:\"5\"==t?n:\"6\"==t?r+\".\"+a+\".\"+n+\" \"+l+\":\"+s+\":\"+c:\"7\"==t?r+\"-\"+a+\"-\"+n+\" \"+l+\":\"+s+\":\"+c:\"8\"==t?r+\"-\"+a+\"-\"+n+\" \"+l+\":\"+s:\"9\"==t?a+\"-\"+n+\" \"+l+\":\"+s:void 0}},\"9a96\":function(e,t,o){},b087:function(e,t,o){\"use strict\";var r=o(\"9a96\"),a=o.n(r);a.a},f72e:function(e,t,o){\"use strict\";o.d(t,\"b\",function(){return a}),o.d(t,\"c\",function(){return n}),o.d(t,\"d\",function(){return l}),o.d(t,\"a\",function(){return s});var r=o(\"5bf4\"),a=function(e){return Object(r[\"a\"])({url:\"/orderInfos/list\",method:\"get\",headers:{token:localStorage.getItem(\"token\")},params:e})},n=function(e){return Object(r[\"a\"])({url:\"/orderInfos/info/\"+e,method:\"get\",headers:{token:localStorage.getItem(\"token\")}})},l=function(e){return Object(r[\"a\"])({url:\"/orderInfos/shipments/\"+e,method:\"put\",headers:{token:localStorage.getItem(\"token\")}})},s=function(e){return Object(r[\"a\"])({url:\"/orderInfos/delete\",method:\"delete\",headers:{token:localStorage.getItem(\"token\")},params:e})}}}]);","extractedComments":[]}