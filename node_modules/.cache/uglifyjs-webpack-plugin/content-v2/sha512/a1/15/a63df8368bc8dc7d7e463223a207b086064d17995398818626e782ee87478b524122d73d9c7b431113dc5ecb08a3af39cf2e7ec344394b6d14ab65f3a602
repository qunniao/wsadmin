{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-aad38f86\"],{2270:function(t,e,n){},\"66e3\":function(t,e,n){\"use strict\";var o=n(\"2270\"),a=n.n(o);a.a},\"89f8\":function(t,e,n){\"use strict\";n.d(e,\"f\",function(){return a}),n.d(e,\"c\",function(){return r}),n.d(e,\"d\",function(){return i}),n.d(e,\"b\",function(){return s}),n.d(e,\"a\",function(){return d}),n.d(e,\"e\",function(){return l});var o=n(\"5bf4\"),a=function(t){return Object(o[\"a\"])({url:\"/productTypes/page\",method:\"get\",headers:{token:localStorage.getItem(\"token\")},params:t})},r=function(t){return Object(o[\"a\"])({url:\"/productTypes/delete\",method:\"DELETE\",headers:{token:localStorage.getItem(\"token\")},params:t})},i=function(t){return Object(o[\"a\"])({url:\"/paramGroups/page\",method:\"get\",headers:{token:localStorage.getItem(\"token\")},params:t})},s=function(t){return Object(o[\"a\"])({url:\"/productTypes/save\",method:\"post\",headers:{token:localStorage.getItem(\"token\")},data:t})},d=function(t){return Object(o[\"a\"])({url:\"/productTypes/update\",method:\"put\",headers:{token:localStorage.getItem(\"token\")},data:t})},l=function(t){return Object(o[\"a\"])({url:\"/productTypes/info/\"+t,method:\"get\",headers:{token:localStorage.getItem(\"token\")}})}},d564:function(t,e,n){\"use strict\";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"div\",{staticClass:\"header\"},[n(\"p\",[t._v(\"产品分类列表\")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.addProtype}},[t._v(\"添加分类\")])],1),n(\"div\",{staticClass:\"table_body\"},[n(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.tableData,\"row-key\":\"tid\",border:\"\",size:\"medium \",\"tree-props\":{children:\"productTypeList\",hasChildren:\"hasChildren\"}}},[n(\"el-table-column\",{attrs:{prop:\"typeName\",label:\"分类\",\"min-width\":\"180\"}}),n(\"el-table-column\",{attrs:{prop:\"cover\",label:\"分类图片\",\"min-width\":\"180\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[e.row.cover?n(\"img\",{staticClass:\"img-upload\",attrs:{src:e.row.cover,height:\"20\",width:\"50\"},on:{click:function(n){t.hangdleEnlargeImg(e.row.signatureImg)}}}):n(\"p\",[t._v(\"\\n                        -\\n                    \")])]}}])}),n(\"el-table-column\",{attrs:{prop:\"subordinateDepartment\",label:\"商品数量\",\"min-width\":\"180\"}}),n(\"el-table-column\",{attrs:{prop:\"sort\",label:\"排序\",\"min-width\":\"180\"}}),n(\"el-table-column\",{attrs:{prop:\"isHidden\",label:\"是否隐藏\",\"min-width\":\"180\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\"\\n                    \"+t._s({0:\"显示\",1:\"隐藏\"}[e.row.isHidden])+\"\\n                \")]}}])}),n(\"el-table-column\",{attrs:{prop:\"gmtCreate\",label:\"创建时间\",\"min-width\":\"180\"}}),n(\"el-table-column\",{attrs:{label:\"操作\",\"min-width\":\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"el-button\",{attrs:{size:\"mini\",type:\"primary\",plain:\"\"},on:{click:function(n){t.handleChange(e.row.tid,e.row.pid)}}},[t._v(\"修改\")]),n(\"el-button\",{attrs:{size:\"mini\",type:\"danger\",plain:\"\"},on:{click:function(n){t.handleDel(e.row.tid)}}},[t._v(\"删除\")])]}}])})],1),n(\"div\",{staticClass:\"table-footer--APP\",attrs:{slot:\"append\"},slot:\"append\"},[n(\"el-pagination\",{attrs:{\"current-page\":t.form.current,\"page-sizes\":[10,20,30,40,50,60,70,80,90],\"page-size\":t.form.size,layout:\"total, sizes, prev, pager, next, jumper\",total:t.totalCount},on:{\"size-change\":t.handleSizeChange,\"current-change\":t.handleCurrentChange}})],1)],1),n(\"div\",[n(\"el-dialog\",{attrs:{title:this.isEdit?\"修改分类\":\"添加分类\",\"append-to-body\":!0,visible:t.secondDepShow,width:\"60%\"},on:{\"update:visible\":function(e){t.secondDepShow=e}}},[t.secondDepShow?n(\"second-index\",{attrs:{\"prodtype-id\":t.typeId,\"prodtype-level\":t.levelId,\"prodchange-type\":t.changtype},on:{\"finish-action\":t.getProdtypeList,\"close-form\":function(e){t.secondDepShow=!1}}}):t._e()],1)],1)])},a=[],r=n(\"c93e\"),i=n(\"89f8\"),s=function(){return n.e(\"chunk-cb3d46fa\").then(n.bind(null,\"bfec\"))},d={name:\"prodList\",data:function(){return{form:{size:10,current:1,sortType:0},tableData:[],totalCount:0,tableLoading:!1,isEdit:!1,typeId:0,levelId:1,changtype:1,secondDepShow:!1}},components:{SecondIndex:s},methods:{getProdtypeList:function(){var t=this,e=Object(r[\"a\"])({},this.form);this.tableLoading=!0,Object(i[\"f\"])(e).then(function(e){var n=e.data.data;t.totalCount=n.total,t.tableData=n.records,t.tableLoading=!1}).catch(function(e){t.tableLoading=!1})},handleSizeChange:function(t){this.form.size=t,this.getProdtypeList()},handleCurrentChange:function(t){this.form.current=t,this.getProdtypeList()},handleAddType:function(t,e){this.typeId=t,this.levelId=e,this.changtype=1,this.isEdit=!1,this.secondDepShow=!0},handleChange:function(t,e){this.levelId=0==e?1:2,this.typeId=t,this.changtype=2,this.isEdit=!1,this.secondDepShow=!0},handleDel:function(t){var e=this,n={tids:t};Object(i[\"c\"])(n).then(function(t){var n=t.data,o=\"success\";200===n.code?e.getProdtypeList():o=\"error\",e.$message({type:o,message:\"success\"===o?\"删除成功！\":n.msg})})},addProtype:function(){this.handleAddType(0,1)}},created:function(){this.getProdtypeList()}},l=d,c=(n(\"66e3\"),n(\"2877\")),u=Object(c[\"a\"])(l,o,a,!1,null,\"72f26278\",null);u.options.__file=\"prodtypeList.vue\";e[\"default\"]=u.exports}}]);","extractedComments":[]}