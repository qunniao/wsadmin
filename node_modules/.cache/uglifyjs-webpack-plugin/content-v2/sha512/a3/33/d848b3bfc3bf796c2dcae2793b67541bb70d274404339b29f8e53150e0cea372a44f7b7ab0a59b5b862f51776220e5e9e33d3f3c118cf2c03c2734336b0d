{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-febf2cf8\"],{\"5ea5\":function(e,a,t){\"use strict\";var o=t(\"e8a6\"),r=t.n(o);r.a},\"82b1\":function(e,a,t){\"use strict\";t.r(a);var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"div\",{staticClass:\"mod-prod-info\"},[t(\"el-form\",{ref:\"dataForm\",attrs:{model:e.dataForm,\"label-width\":\"150px\"}},[t(\"el-form-item\",{attrs:{label:\"名称:\",prop:\"nickname\"}},[t(\"el-col\",{attrs:{span:16}},[t(\"el-input\",{attrs:{placeholder:\"请输入\",maxlength:\"50\"},model:{value:e.dataForm.nickname,callback:function(a){e.$set(e.dataForm,\"nickname\",a)},expression:\"dataForm.nickname\"}})],1)],1),t(\"el-form-item\",{attrs:{label:\"密码:\",prop:\"pwd\",rules:[{required:!0,message:\"管理员密码不能为空\"}]}},[t(\"el-col\",{attrs:{span:16}},[t(\"el-input\",{attrs:{placeholder:\"请输入\",maxlength:\"50\"},model:{value:e.dataForm.pwd,callback:function(a){e.$set(e.dataForm,\"pwd\",a)},expression:\"dataForm.pwd \"}})],1)],1),t(\"el-form-item\",{attrs:{label:\"手机号:\",prop:\"phone\",rules:[{required:!0,message:\"管理员手机号不能为空\"}]}},[t(\"el-col\",{attrs:{span:16}},[t(\"el-input\",{attrs:{placeholder:\"请输入\",maxlength:\"50\"},model:{value:e.dataForm.phone,callback:function(a){e.$set(e.dataForm,\"phone\",a)},expression:\"dataForm.phone\"}})],1)],1),t(\"el-form-item\",{attrs:{label:\"头像:\"}},[t(\"el-upload\",{staticClass:\"avatar-uploader\",attrs:{action:\"http://admin.zhanchengwlkj.com:8080/derivative_system_backstage/file/addFile\",\"show-file-list\":!1,name:\"files\",\"on-success\":e.uploadImg,\"before-upload\":e.beforeAvatarUpload}},[e.imageShowUrl?t(\"img\",{staticClass:\"avatar\",attrs:{src:e.imageShowUrl}}):t(\"i\",{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),t(\"el-form-item\",[t(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(a){e.dataFormSubmit()}}},[e._v(\"确定\")])],1)],1)],1)},r=[],n=t(\"dfaf\"),s={name:\"editor\",data:function(){return{dataForm:{username:\"\",pwd:\"\",roleId:3,nickname:\"\",cover:\"\",phone:\"\"},ispwdshow:0,imageShowUrl:\"\"}},components:{},props:{adminId:{required:!0}},methods:{uploadImg:function(e){this.dataForm.cover=e.data,this.imageShowUrl=e.data},beforeAvatarUpload:function(e){var a=\"image/jpeg\"===e.type||\"image/png\"===e.type,t=e.size/1024/1024<2;return a||this.$message.error(\"上传头像图片只能是 JPG或者PNG 格式!\"),t||this.$message.error(\"上传头像图片大小不能超过 2MB!\"),a&&t},dataFormSubmit:function(){var e=this;this.$refs[\"dataForm\"].validate(function(a){if(a){var t={username:e.dataForm.username,trueName:e.dataForm.trueName,roleId:3,nickname:e.dataForm.nickname,cover:e.dataForm.cover,phone:e.dataForm.phone};0==e.ispwdshow?(t.pwd=e.dataForm.pwd,Object(n[\"d\"])(t).then(function(a){var t=a.data;200==t.code?(e.$message({type:\"success\",message:\"添加管理员信息成功\"}),e.$emit(\"close-form\"),e.$emit(\"finish-action\")):e.errorMsg(t.message)}).catch(function(a){console.log(a),e.tableLoading=!1})):(t.uid=e.dataForm.uid,Object(n[\"e\"])(t).then(function(a){var t=a.data;200==t.code?(e.$message({type:\"success\",message:\"修改管理员信息成功\"}),e.$emit(\"close-form\"),e.$emit(\"finish-action\")):e.errorMsg(t.message)}).catch(function(a){console.log(a),e.tableLoading=!1})),console.log(t)}})},getAdminInfo:function(e){var a=this,t=e;Object(n[\"b\"])(t).then(function(e){console.log(e);var t=e.data.data;a.dataForm=t,a.imageShowUrl=t.cover}).catch(function(e){a.tableLoading=!1})},errorMsg:function(e){this.$message({message:e,type:\"error\",duration:1500})},backhtmls:function(){this.$emit(\"close-form\")}},mounted:function(){0!=this.adminId&&(this.getAdminInfo(this.adminId),this.ispwdshow=this.adminId),console.log(this.adminId)}},i=s,m=(t(\"5ea5\"),t(\"2877\")),l=Object(m[\"a\"])(i,o,r,!1,null,\"f22943c4\",null);l.options.__file=\"adminInfo.vue\";a[\"default\"]=l.exports},e8a6:function(e,a,t){}}]);","extractedComments":[]}