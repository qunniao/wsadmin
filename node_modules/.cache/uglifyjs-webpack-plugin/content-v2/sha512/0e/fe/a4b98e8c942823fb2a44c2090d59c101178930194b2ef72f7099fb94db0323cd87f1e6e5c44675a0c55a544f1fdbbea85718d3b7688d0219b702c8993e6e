{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-a43e97de\"],{\"42d0\":function(t,e,o){\"use strict\";var n=o(\"c222\"),a=o.n(n);a.a},\"72ac\":function(t,e,o){\"use strict\";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"div\",[o(\"div\",{staticClass:\"header\"},[o(\"el-button\",{attrs:{type:\"primary\"}},[t._v(\"导出\")])],1),o(\"div\",{staticClass:\"filter\"},[o(\"el-form\",{staticClass:\"fl-l\",attrs:{inline:\"\"}},[o(\"el-form-item\",{attrs:{label:\"商品信息\"}},[o(\"el-col\",{attrs:{span:24}},[o(\"el-input\",{attrs:{placeholder:\"请输入商品名称或者货号\"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:\"keyword\"}})],1)],1),o(\"el-form-item\",[o(\"el-button\",{attrs:{type:\"primary\"}},[t._v(\"查找\")])],1),o(\"el-form-item\",[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.changeshow}},[t._v(\"展开\")])],1),t.searchshow?o(\"div\",[o(\"el-form-item\",{attrs:{label:\"商品分类\"}},[o(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择等级\"},model:{value:t.shopClassification,callback:function(e){t.shopClassification=e},expression:\"shopClassification\"}})],1),o(\"el-form-item\",{attrs:{label:\"商品类型\"}},[o(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择归属类型\"},model:{value:t.ommodityType,callback:function(e){t.ommodityType=e},expression:\"ommodityType\"}},[o(\"el-option\",{attrs:{value:1,label:\"电商\"}}),o(\"el-option\",{attrs:{value:0,label:\"app\"}})],1)],1)],1):t._e(),o(\"div\",{staticStyle:{\"margin-bottom\":\"10px\"}},t._l(t.shoptypelist,function(e){return o(\"el-tag\",{key:e.val,class:{active:e.val==t.form.statusType},on:{click:function(o){t.changesearchtype(e.val)}}},[t._v(t._s(e.name)+t._s(\"\"!=e.nownum?e.nownum:\"0\"))])}))],1)],1),o(\"div\",{staticClass:\"table_body\"},[o(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.tableData,border:\"\",size:\"medium \"}},[o(\"el-table-column\",{attrs:{prop:\"productName\",label:\"商品信息\",\"min-width\":\"360\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[o(\"img\",{staticClass:\"prod-img\",attrs:{src:e.row.cover}}),o(\"div\",{staticClass:\"prod-detail\",attrs:{span:6}},[o(\"div\",[t._v(t._s(e.row.productName))]),o(\"div\",[t._v(\"分类：\"+t._s(e.row.typeName))])])]}}])}),o(\"el-table-column\",{attrs:{prop:\"totalStock\",label:\"总库存\",\"min-width\":\"180\"}}),o(\"el-table-column\",{attrs:{prop:\"availableStock\",label:\"可用库存\",\"min-width\":\"180\"}}),o(\"el-table-column\",{attrs:{prop:\"lockStock\",label:\"锁定库存\",\"min-width\":\"180\"}}),o(\"el-table-column\",{attrs:{prop:\"excessStock\",label:\"超额库存\",\"min-width\":\"180\"}}),o(\"el-table-column\",{attrs:{label:\"操作\",\"min-width\":\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[e.row.isSku?o(\"el-button\",{attrs:{size:\"mini\",type:\"primary\",plain:\"\"},on:{click:function(o){t.handleChangeSkuStock(e.row.pid)}}},[t._v(\"查看规格\")]):t._e(),e.row.isSku?o(\"el-button\",{attrs:{size:\"mini\",type:\"primary\",plain:\"\"},on:{click:function(o){t.handleChangeAllSkuStock(e.row.pid)}}},[t._v(\"调整库存\")]):o(\"el-button\",{attrs:{size:\"mini\",type:\"primary\",plain:\"\"},on:{click:function(o){t.handleChangeStock(e.row.pid,e.row.availableStock)}}},[t._v(\"调整库存\")])]}}])})],1),o(\"div\",{staticClass:\"table-footer--APP\",attrs:{slot:\"append\"},slot:\"append\"},[o(\"el-pagination\",{attrs:{\"current-page\":t.form.page,\"page-sizes\":[10,20,30,40,50,60,70,80,90],\"page-size\":t.form.limit,layout:\"total, sizes, prev, pager, next, jumper\",total:t.totalCount},on:{\"size-change\":t.handleSizeChange,\"current-change\":t.handleCurrentChange}})],1),o(\"el-dialog\",{attrs:{title:\"调整商品库存\",\"append-to-body\":!0,visible:t.secondDepShow,width:\"80%\"},on:{\"update:visible\":function(e){t.secondDepShow=e}}},[t.secondDepShow?o(\"second-index\",{attrs:{\"prod-id\":t.prodId,\"prod-num\":t.prodNum,\"prod-sku\":0},on:{\"finish-action\":t.getStockList,\"close-form\":function(e){t.secondDepShow=!1}}}):t._e()],1),o(\"el-dialog\",{attrs:{title:\"商品库存\",\"append-to-body\":!0,visible:t.oneDepShow,width:\"80%\"},on:{\"update:visible\":function(e){t.oneDepShow=e}}},[t.oneDepShow?o(\"one-index\",{attrs:{\"prod-ids\":t.prodId},on:{\"finish-action\":t.getStockList,\"close-form\":function(e){t.oneDepShow=!1}}}):t._e()],1),o(\"el-dialog\",{attrs:{title:\"调整商品库存\",\"append-to-body\":!0,visible:t.threeDepShow,width:\"80%\"},on:{\"update:visible\":function(e){t.threeDepShow=e}}},[t.threeDepShow?o(\"three-index\",{attrs:{\"prod-id\":t.prodId},on:{\"finish-action\":t.getStockList,\"close-form\":function(e){t.threeDepShow=!1}}}):t._e()],1)],1)])},a=[],i=o(\"c93e\"),l=o(\"8dfa\"),r=function(){return o.e(\"chunk-e1e47504\").then(o.bind(null,\"377a\"))},s=function(){return o.e(\"chunk-7b127d89\").then(o.bind(null,\"2aa2\"))},c=function(){return o.e(\"chunk-8593f90a\").then(o.bind(null,\"a545\"))},d={name:\"prodList\",data:function(){return{form:{size:10,current:1,filters:\"\",statusType:\"1\"},shoptypelist:[{name:\"出售中\",val:\"1\",nownum:\"\"},{name:\"已下架\",val:\"2\",nownum:\"\"},{name:\"库存预警\",val:\"3\",nownum:\"\"}],shoptype:1,shopClassification:\"\",ommodityType:\"\",searchshow:!1,keyword:\"\",tableData:[],totalCount:0,tableLoading:!1,prodId:0,prodNum:\"\",threeDepShow:!1,oneDepShow:!1,secondDepShow:!1}},components:{SecondIndex:r,OneIndex:s,ThreeIndex:c},methods:{handleSizeChange:function(t){this.form.size=t,this.getStockList()},changeshow:function(){console.log(123),this.searchshow=!this.searchshow},handleCurrentChange:function(t){this.form.current=t,this.getStockList()},handleChangeSkuStock:function(t){this.prodId=t,this.oneDepShow=!0},handleChangeStock:function(t,e){this.prodId=t,this.prodNum=e,this.secondDepShow=!0},handleChangeAllSkuStock:function(t){this.prodId=t,this.threeDepShow=!0},getStockList:function(){var t=this,e=Object(i[\"a\"])({},this.form);this.tableLoading=!0,Object(l[\"e\"])(e).then(function(e){var o=e.data.data;t.totalCount=o.total,t.tableData=o.records,t.tableLoading=!1}).catch(function(e){t.tableLoading=!1})}},created:function(){this.getStockList()}},u=d,p=(o(\"42d0\"),o(\"2877\")),h=Object(p[\"a\"])(u,n,a,!1,null,\"d76a7f02\",null);h.options.__file=\"shopStockindex.vue\";e[\"default\"]=h.exports},\"8dfa\":function(t,e,o){\"use strict\";o.d(e,\"e\",function(){return a}),o.d(e,\"d\",function(){return i}),o.d(e,\"c\",function(){return l}),o.d(e,\"a\",function(){return r}),o.d(e,\"b\",function(){return s});var n=o(\"5bf4\"),a=function(t){return Object(n[\"a\"])({url:\"/stock/page\",method:\"get\",headers:{token:localStorage.getItem(\"token\")},params:t})},i=function(t){return Object(n[\"a\"])({url:\"/stock/sku/page\",method:\"get\",headers:{token:localStorage.getItem(\"token\")},params:t})},l=function(t){return Object(n[\"a\"])({url:\"/products/info/\"+t,method:\"get\",headers:{token:localStorage.getItem(\"token\")}})},r=function(t){return Object(n[\"a\"])({url:\"/stock/adjustStock\",method:\"post\",headers:{token:localStorage.getItem(\"token\")},data:t})},s=function(t){return console.log(JSON.stringify(t)),Object(n[\"a\"])({url:\"/stock/adjustSkuStock\",method:\"post\",headers:{token:localStorage.getItem(\"token\")},data:JSON.stringify(t)})}},c222:function(t,e,o){}}]);","extractedComments":[]}