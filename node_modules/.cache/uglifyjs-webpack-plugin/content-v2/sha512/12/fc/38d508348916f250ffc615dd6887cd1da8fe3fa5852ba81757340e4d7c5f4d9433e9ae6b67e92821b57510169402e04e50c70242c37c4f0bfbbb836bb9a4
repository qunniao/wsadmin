{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-6fed0376\"],{5119:function(e,t,n){},5219:function(e,t,n){\"use strict\";var o=n(\"5119\"),i=n.n(o);i.a},b01f:function(e,t,n){\"use strict\";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"mod-prod-info\"},[n(\"el-form\",{ref:\"dataForm\",attrs:{model:e.dataForm,\"label-width\":\"150px\"}},[n(\"el-form-item\",{attrs:{\"label-width\":\"180px\",label:\"选择权限：\",prop:\"actionList\"}},[[n(\"el-menu\",{attrs:{\"unique-opened\":!0}},e._l(e.actionList,function(t){return n(\"action-item\",{key:t.actionId,attrs:{menuItem:t,menuIndex:t.actionId,checkList:e.checkList},on:{listenTochildEvent:e.showMessageFromChild}})}))]],2),n(\"el-form-item\",[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.dataFormSubmit()}}},[e._v(\"确定\")])],1)],1)],1)},i=[],c=(n(\"cadf\"),n(\"551c\"),n(\"097d\"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.menuItem.children&&e.menuItem.children.length?n(\"el-submenu\",{attrs:{index:e.menuIndex+\"\"}},[n(\"template\",{slot:\"title\"},[e.menuItem.icon?n(\"i\",{class:e.menuItem.icon}):e._e(),n(\"span\",[n(\"el-checkbox-group\",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:\"checkList\"}},[n(\"el-checkbox\",{key:e.menuItem.actionId,attrs:{label:e.menuItem.actionId},on:{change:e.changeAction}},[e._v(e._s(e.menuItem.actionName))])],1)],1)]),e._l(e.menuItem.children,function(t){return n(\"action-item\",{key:t.actionId+\"\",attrs:{menuItem:t,menuIndex:t.actionId,checkList:e.checkList},on:{listenTochildEvent:e.showMessageFromChild}})})],2):n(\"el-menu-item\",{attrs:{index:e.menuIndex+\"\"}},[e.menuItem.icon?n(\"i\",{class:e.menuItem.icon}):e._e(),n(\"el-checkbox-group\",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:\"checkList\"}},[n(\"el-checkbox\",{key:e.menuItem.actionId,attrs:{label:e.menuItem.actionId},on:{change:e.changeAction}},[e._v(e._s(e.menuItem.actionName))])],1)],1)}),s=[],a={name:\"actionItem\",data:function(){return{}},props:{menuItem:{required:!0,type:Object},menuIndex:{required:!0},checkList:{required:!0}},methods:{changeAction:function(){this.$emit(\"listenTochildEvent\",this.checkList)},showMessageFromChild:function(e){this.checkList=e,this.$emit(\"listenTochildEvent\",this.checkList)}}},l=a,r=(n(\"5219\"),n(\"2877\")),m=Object(r[\"a\"])(l,c,s,!1,null,\"bd665df2\",null);m.options.__file=\"actionItem.vue\";var d=m.exports,u=n(\"c9de\"),h={name:\"editor\",data:function(){return{dataForm:{},checkList:[],actionIds:[],actionList:[],powerList:[]}},components:{actionItem:d},props:{roleId:{required:!0}},methods:{showMessageFromChild:function(e){console.log(\"data:\"+e),this.checkList=e},dataFormSubmit:function(){var e=this;console.log(\"roleId:\"+this.roleId),console.log(this.checkList),this.$refs[\"dataForm\"].validate(function(t){for(var n=\"\",o=0;o<e.checkList.length;o++)n+=e.checkList[o]+\",\";if(console.log(n),t){var i={roleId:e.roleId,ids:n};Object(u[\"g\"])(i).then(function(t){var n=t.data;200==n.code?(e.$message({type:\"success\",message:\"设置成功\"}),e.$emit(\"close-form\"),e.$emit(\"finish-action\")):e.errorMsg(n.message)}).catch(function(e){console.log(e)}),console.log(i)}})},getAdminActionList:function(){var e=this;console.log(\"getAdminActionList\");var t={roleId:this.roleId};Object(u[\"b\"])(t).then(function(t){console.log(\"getAdminActionListAPI 返回\");for(var n=t.data.data.actionList,o=t.data.data.powerList,i=[],c=0;c<o.length;c++)i.push(o[c].actionId);e.checkList=i,e.actionList=n,console.log(e.actionList),console.log(e.checkList)}).catch(function(e){})},errorMsg:function(e){this.$message({message:e,type:\"error\",duration:1500})},backhtmls:function(){this.$emit(\"close-form\")}},mounted:function(){console.log(\"mounted方法\"),this.getAdminActionList()}},f=h,I=(n(\"b27c\"),Object(r[\"a\"])(f,o,i,!1,null,\"46326984\",null));I.options.__file=\"adminRoleSetPower.vue\";t[\"default\"]=I.exports},b27c:function(e,t,n){\"use strict\";var o=n(\"dd45\"),i=n.n(o);i.a},dd45:function(e,t,n){}}]);","extractedComments":[]}