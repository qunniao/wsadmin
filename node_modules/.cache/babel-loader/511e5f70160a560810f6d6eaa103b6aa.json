{"remainingRequest":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js!E:\\HtmlProjects\\wsadmin\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\HtmlProjects\\wsadmin\\src\\utils\\htmlToPdf.js","dependencies":[{"path":"E:\\HtmlProjects\\wsadmin\\src\\utils\\htmlToPdf.js","mtime":1573023987018},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import html2Canvas from 'html2canvas';\nimport JsPDF from 'jspdf';\nexport default {\n  install: function install(Vue, options) {\n    Vue.prototype.getPdf = function () {\n      var title = this.htmlTitle;\n      html2Canvas(document.querySelector('#pdfDom'), {\n        allowTaint: true\n      }).then(function (canvas) {\n        var contentWidth = canvas.width;\n        var contentHeight = canvas.height;\n        var pageHeight = contentWidth / 592.28 * 841.89;\n        var leftHeight = contentHeight;\n        var position = 0;\n        var imgWidth = 595.28;\n        var imgHeight = 592.28 / contentWidth * contentHeight;\n        var pageData = canvas.toDataURL('image/jpeg', 1.0);\n        var PDF = new JsPDF('', 'pt', 'a4');\n\n        if (leftHeight < pageHeight) {\n          PDF.addImage(pageData, 'JPEG', 0, 0, imgWidth, imgHeight);\n        } else {\n          while (leftHeight > 0) {\n            PDF.addImage(pageData, 'JPEG', 0, position, imgWidth, imgHeight);\n            leftHeight -= pageHeight;\n            position -= 841.89;\n\n            if (leftHeight > 0) {\n              PDF.addPage();\n            }\n          }\n        }\n\n        PDF.save(title + '.pdf');\n      });\n    };\n  }\n};",{"version":3,"sources":["E:\\HtmlProjects\\wsadmin\\src\\utils\\htmlToPdf.js"],"names":["html2Canvas","JsPDF","install","Vue","options","prototype","getPdf","title","htmlTitle","document","querySelector","allowTaint","then","canvas","contentWidth","width","contentHeight","height","pageHeight","leftHeight","position","imgWidth","imgHeight","pageData","toDataURL","PDF","addImage","addPage","save"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAc;AACZC,SADY,mBACHC,GADG,EACEC,OADF,EACW;AACrBD,QAAIE,SAAJ,CAAcC,MAAd,GAAuB,YAAY;AACjC,UAAIC,QAAQ,KAAKC,SAAjB;AACAR,kBAAYS,SAASC,aAAT,CAAuB,SAAvB,CAAZ,EAA+C;AAC7CC,oBAAY;AADiC,OAA/C,EAEGC,IAFH,CAEQ,UAAUC,MAAV,EAAkB;AACxB,YAAIC,eAAeD,OAAOE,KAA1B;AACA,YAAIC,gBAAgBH,OAAOI,MAA3B;AACA,YAAIC,aAAaJ,eAAe,MAAf,GAAwB,MAAzC;AACA,YAAIK,aAAaH,aAAjB;AACA,YAAII,WAAW,CAAf;AACA,YAAIC,WAAW,MAAf;AACA,YAAIC,YAAY,SAASR,YAAT,GAAwBE,aAAxC;AACA,YAAIO,WAAWV,OAAOW,SAAP,CAAiB,YAAjB,EAA+B,GAA/B,CAAf;AACA,YAAIC,MAAM,IAAIxB,KAAJ,CAAU,EAAV,EAAc,IAAd,EAAoB,IAApB,CAAV;;AACA,YAAIkB,aAAaD,UAAjB,EAA6B;AAC3BO,cAAIC,QAAJ,CAAaH,QAAb,EAAuB,MAAvB,EAA+B,CAA/B,EAAkC,CAAlC,EAAqCF,QAArC,EAA+CC,SAA/C;AACD,SAFD,MAEO;AACL,iBAAOH,aAAa,CAApB,EAAuB;AACrBM,gBAAIC,QAAJ,CAAaH,QAAb,EAAuB,MAAvB,EAA+B,CAA/B,EAAkCH,QAAlC,EAA4CC,QAA5C,EAAsDC,SAAtD;AACAH,0BAAcD,UAAd;AACAE,wBAAY,MAAZ;;AACA,gBAAID,aAAa,CAAjB,EAAoB;AAClBM,kBAAIE,OAAJ;AACD;AACF;AACF;;AACDF,YAAIG,IAAJ,CAASrB,QAAQ,MAAjB;AACD,OAzBD;AA2BD,KA7BD;AA8BD;AAhCW,CAAd","sourcesContent":["import html2Canvas from 'html2canvas'\r\nimport JsPDF from 'jspdf'\r\nexport default{\r\n  install (Vue, options) {\r\n    Vue.prototype.getPdf = function () {\r\n      var title = this.htmlTitle\r\n      html2Canvas(document.querySelector('#pdfDom'), {\r\n        allowTaint: true\r\n      }).then(function (canvas) {\r\n        let contentWidth = canvas.width\r\n        let contentHeight = canvas.height\r\n        let pageHeight = contentWidth / 592.28 * 841.89\r\n        let leftHeight = contentHeight\r\n        let position = 0\r\n        let imgWidth = 595.28\r\n        let imgHeight = 592.28 / contentWidth * contentHeight\r\n        let pageData = canvas.toDataURL('image/jpeg', 1.0)\r\n        let PDF = new JsPDF('', 'pt', 'a4')\r\n        if (leftHeight < pageHeight) {\r\n          PDF.addImage(pageData, 'JPEG', 0, 0, imgWidth, imgHeight)\r\n        } else {\r\n          while (leftHeight > 0) {\r\n            PDF.addImage(pageData, 'JPEG', 0, position, imgWidth, imgHeight)\r\n            leftHeight -= pageHeight\r\n            position -= 841.89\r\n            if (leftHeight > 0) {\r\n              PDF.addPage()\r\n            }\r\n          }\r\n        }\r\n        PDF.save(title + '.pdf')\r\n      }\r\n      )\r\n    }\r\n  }\r\n}"]}]}