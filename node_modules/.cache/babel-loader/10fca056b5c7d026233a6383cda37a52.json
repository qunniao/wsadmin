{"remainingRequest":"E:\\HtmlProjects\\wsadmin\\node_modules\\thread-loader\\dist\\cjs.js!E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js!E:\\HtmlProjects\\wsadmin\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\HtmlProjects\\wsadmin\\src\\utils\\htmlToPdf.js","dependencies":[{"path":"E:\\HtmlProjects\\wsadmin\\src\\utils\\htmlToPdf.js","mtime":1573023987018},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import html2Canvas from 'html2canvas';\nimport JsPDF from 'jspdf';\nexport default {\n  install: function install(Vue, options) {\n    Vue.prototype.getPdf = function () {\n      var title = this.htmlTitle;\n      html2Canvas(document.querySelector('#pdfDom'), {\n        allowTaint: true\n      }).then(function (canvas) {\n        var contentWidth = canvas.width;\n        var contentHeight = canvas.height;\n        var pageHeight = contentWidth / 592.28 * 841.89;\n        var leftHeight = contentHeight;\n        var position = 0;\n        var imgWidth = 595.28;\n        var imgHeight = 592.28 / contentWidth * contentHeight;\n        var pageData = canvas.toDataURL('image/jpeg', 1.0);\n        var PDF = new JsPDF('', 'pt', 'a4');\n\n        if (leftHeight < pageHeight) {\n          PDF.addImage(pageData, 'JPEG', 0, 0, imgWidth, imgHeight);\n        } else {\n          while (leftHeight > 0) {\n            PDF.addImage(pageData, 'JPEG', 0, position, imgWidth, imgHeight);\n            leftHeight -= pageHeight;\n            position -= 841.89;\n\n            if (leftHeight > 0) {\n              PDF.addPage();\n            }\n          }\n        }\n\n        PDF.save(title + '.pdf');\n      });\n    };\n  }\n};",null]}