{"remainingRequest":"E:\\HtmlProjects\\wsadmin\\node_modules\\thread-loader\\dist\\cjs.js!E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js!E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HtmlProjects\\wsadmin\\src\\components\\allOrderManage\\allOrderInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HtmlProjects\\wsadmin\\src\\components\\allOrderManage\\allOrderInfo.vue","mtime":1575020125987},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport JsPDF from 'jspdf';\nimport { timeStamp2String } from '@/api/globalAPI.js';\nimport { getOrderDetailAPI } from '@/api/prodOrderAPI.js';\nexport default {\n  name: 'prodList',\n  data: function data() {\n    return {\n      form: {\n        size: 10,\n        current: 1,\n        id: ''\n      },\n      infotext: '',\n      htmlTitle: '订单信息',\n      orderstate: {\n        \"-1\": \"已删除\",\n        0: \"已关闭\",\n        1: \"待确认\",\n        2: \"待付款\",\n        3: \"待总部处理\",\n        4: \"待发货\",\n        5: \"待收货\",\n        6: \"待评价\",\n        7: \"已完成\"\n      },\n      paywaylist: {\n        1: \"打款凭证\",\n        2: \"线上支付\"\n      },\n      sendway: {\n        1: \"快递\",\n        2: \"自提\",\n        3: \"无需物流\"\n      },\n      orderdetail: {},\n      orderform: []\n    };\n  },\n  components: {// AddDepModal,\n  },\n  props: {\n    orderId: {\n      required: true\n    }\n  },\n  methods: {\n    /**\r\n     * @msg: 时间处理\r\n     * @param {type} \r\n     * @return: \r\n     */\n    timechange: function timechange(time, type) {\n      return timeStamp2String(time, type);\n    },\n\n    /*\r\n     * 获取订单详情\r\n     */\n    getOrderDetail: function getOrderDetail(id) {\n      var _this = this;\n\n      this.tableLoading = true;\n      getOrderDetailAPI(id).then(function (res) {\n        var orderdata = res.data.data;\n        _this.orderdetail = orderdata;\n        _this.orderform = orderdata.orderProductBackList;\n      }).catch(function (err) {\n        _this.tableLoading = false;\n      });\n    },\n    printOut: function printOut(name) {\n      var shareContent = document.body,\n          //需要截图的包裹的（原生的）DOM 对象\n      width = shareContent.clientWidth,\n          //获取dom 宽度\n      height = shareContent.clientHeight,\n          //获取dom 高度\n      canvas = document.createElement(\"canvas\"),\n          //创建一个canvas节点\n      scale = 2; //定义任意放大倍数 支持小数\n\n      canvas.width = width * scale; //定义canvas 宽度 * 缩放\n\n      canvas.height = height * scale; //定义canvas高度 *缩放\n\n      canvas.style.width = shareContent.clientWidth * scale + \"px\";\n      canvas.style.height = shareContent.clientHeight * scale + \"px\";\n      canvas.getContext(\"2d\").scale(scale, scale); //获取context,设置scale\n\n      var opts = {\n        scale: scale,\n        // 添加的scale 参数\n        canvas: canvas,\n        //自定义 canvas\n        logging: false,\n        //日志开关，便于查看html2canvas的内部执行流程\n        width: width,\n        //dom 原始宽度\n        height: height,\n        useCORS: true // 【重要】开启跨域配置\n\n      };\n      html2Canvas(shareContent, opts).then(function () {\n        var contentWidth = canvas.width;\n        var contentHeight = canvas.height; //一页pdf显示html页面生成的canvas高度;\n\n        var pageHeight = contentWidth / 592.28 * 841.89; //未生成pdf的html页面高度\n\n        var leftHeight = contentHeight; //页面偏移\n\n        var position = 0; //a4纸的尺寸[595.28,841.89]，html页面生成的canvas在pdf中图片的宽高\n\n        var imgWidth = 595.28;\n        var imgHeight = 592.28 / contentWidth * contentHeight;\n        var pageData = canvas.toDataURL(\"image/jpeg\", 1.0);\n        var PDF = new JsPDF(\"\", \"pt\", \"a4\");\n\n        if (leftHeight < pageHeight) {\n          PDF.addImage(pageData, \"JPEG\", 0, 0, imgWidth, imgHeight);\n        } else {\n          while (leftHeight > 0) {\n            PDF.addImage(pageData, \"JPEG\", 0, position, imgWidth, imgHeight);\n            leftHeight -= pageHeight;\n            position -= 841.89;\n\n            if (leftHeight > 0) {\n              PDF.addPage();\n            }\n          }\n        }\n\n        PDF.save(name + \".pdf\"); // 这里是导出的文件名\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getOrderDetail(this.orderId);\n  }\n};",null]}