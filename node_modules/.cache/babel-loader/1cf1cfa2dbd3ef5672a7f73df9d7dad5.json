{"remainingRequest":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js!E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HtmlProjects\\wsadmin\\src\\components\\prod\\prodInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HtmlProjects\\wsadmin\\src\\components\\prod\\prodInfo.vue","mtime":1573440952651},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar AttributeIndex = function AttributeIndex() {\n  return import('./shopAttribute.vue');\n};\n\nvar SecondIndex = function SecondIndex() {\n  return import('./shoptype.vue');\n};\n\nimport { getProdDetailAPI, getTemplateListAPI, pushProdDataAPI, putProdDataAPI } from '@/api/productApi.js';\nimport axios from 'axios';\nimport { treeDataTranslate, idList } from '@/utils';\nimport E from 'wangeditor';\nimport SkuTable from './sku-table';\nimport SkuTag from './sku-tag';\nexport default {\n  name: 'editor',\n  data: function data() {\n    return {\n      // 分类树展示与回显\n      transportId: null,\n      shopid: 0,\n      shopup: '1',\n      shopdown: '1',\n      value1: '',\n      attrtext: '',\n      attributeDepList: [],\n      category: {\n        list: [],\n        selected: [],\n        props: {\n          value: 'categoryId',\n          label: 'categoryName'\n        }\n      },\n      rules: {\n        checkList: [{\n          type: 'array',\n          required: true,\n          message: '请选择代理购买方式',\n          trigger: 'change'\n        }],\n        picfile: [{\n          required: true,\n          message: '请上传图片'\n        }]\n      },\n      fileList: [],\n      freightlist: [],\n      allfreight: '',\n      AttributeDepShow: false,\n      secondDepShow: false,\n      imageShowUrl: '',\n      // 规格列表\n      shoptypelist: [],\n      skuList: [],\n      prodName: '',\n      dialogImageUrl: '',\n      dialogVisible: false,\n      dataForm: {\n        checkList: [],\n        productType: 0,\n        sid: 0,\n        productNumber: '',\n        productName: '',\n        cover: '',\n        productIntro: '',\n        price: '',\n        inviteReward: '',\n        marketPrice: '',\n        weight: '',\n        stockPrice: '',\n        isUniformFreight: '0',\n        showStock: 1,\n        content: '',\n        retailFreightId: '',\n        agentFreightId: '',\n        cloudFreightId: '',\n        sales: '',\n        agentBuy: '',\n        sort: '',\n        putawayTime: '',\n        soldoutTime: '',\n        typeIds: [],\n        productParams: [],\n        units: [],\n        standardDtos: [],\n        productImageDtos: []\n      },\n      tags: [] // resourcesUrl: window.SITE_CONFIG.resourcesUrl\n\n    };\n  },\n  components: {\n    SkuTable: SkuTable,\n    SkuTag: SkuTag,\n    SecondIndex: SecondIndex,\n    AttributeIndex: AttributeIndex\n  },\n  props: {\n    depId: {\n      required: true\n    }\n  },\n  computed: {\n    defalutSku: function defalutSku() {\n      return this.$store.state.prod.defalutSku;\n    }\n  },\n  activated: function activated() {\n    this.dataForm.prodId = this.$route.query.prodId;\n    this.getDataList();\n  },\n  methods: {\n    // 获取分类数据\n    getDataList: function getDataList() {},\n    handleRemove: function handleRemove(file, fileList) {\n      for (var i = 0; i < this.dataForm.productImageDtos.length; i++) {\n        if (file.url == this.dataForm.productImageDtos[i].url) {\n          this.dataForm.productImageDtos.splice(i, 1);\n        }\n      }\n    },\n    uploadImgTwo: function uploadImgTwo(res) {\n      this.dataForm.productImageDtos.push({\n        sort: 0,\n        url: res.data\n      });\n    },\n    handlePictureCardPreview: function handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    removeDomain: function removeDomain(item) {\n      for (var j = 0; j < this.attributeDepList.length; j++) {\n        if (this.attributeDepList[j].name == item.name) {\n          this.attributeDepList.splice(j, 1);\n        }\n      }\n    },\n    delshoptype: function delshoptype(deltid) {\n      for (var i = 0; i < this.shoptypelist.length; i++) {\n        if (this.shoptypelist[i].tid == deltid) {\n          this.shoptypelist.splice(i, 1);\n        }\n      }\n    },\n    saveattrtext: function saveattrtext() {\n      var isokpush = true;\n\n      for (var j = 0; j < this.attributeDepList.length; j++) {\n        if (this.attributeDepList[j].name == this.attrtext) {\n          isokpush = false;\n          this.$message({\n            type: 'error',\n            message: '不能添加已有属性值'\n          });\n        }\n      }\n\n      if (isokpush) {\n        if (this.attrtext != '') {\n          this.attributeDepList.push({\n            name: this.attrtext,\n            value: ''\n          });\n          this.attrtext = '';\n        } else {\n          this.$message({\n            type: 'error',\n            message: '属性值不能为空'\n          });\n        }\n      }\n    },\n    changeshoptype: function changeshoptype(typelist) {\n      this.shoptypelist = typelist;\n    },\n    changeattrlist: function changeattrlist(attrlist) {\n      var attribute = attrlist.split(',');\n\n      for (var i = 0; i < attribute.length; i++) {\n        var ischeck = true;\n\n        for (var j = 0; j < this.attributeDepList.length; j++) {\n          if (this.attributeDepList[j].name == attribute[i]) {\n            ischeck = false;\n          }\n        }\n\n        if (ischeck) {\n          this.attributeDepList.push({\n            name: attribute[i],\n            value: ''\n          });\n        }\n      }\n    },\n    handleChange: function handleChange() {},\n    handleSecondDepShow: function handleSecondDepShow() {\n      this.secondDepShow = true;\n    },\n    handleAttributeDepShow: function handleAttributeDepShow() {\n      this.AttributeDepShow = true;\n    },\n    uploadImg: function uploadImg(res) {\n      this.dataForm.cover = res.data;\n      this.imageShowUrl = res.data;\n      this.rules.picfile = [{\n        required: true,\n        message: '请上传图片'\n      }];\n\n      if (this.dataForm.cover != '') {\n        this.rules.picfile = [];\n      }\n    },\n    beforeAvatarUpload: function beforeAvatarUpload(file) {\n      var isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\n      var isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG或者PNG 格式!');\n      }\n\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n\n      return isJPG && isLt2M;\n    },\n    // 获取分类信息\n    getCategoryList: function getCategoryList() {},\n    // 选择分类改变事件\n    handleCategoryChange: function handleCategoryChange(val) {\n      this.dataForm.categoryId = val[val.length - 1];\n    },\n    // 表单提交\n    dataFormSubmit: function dataFormSubmit() {\n      var _this = this;\n\n      var that = this;\n      this.$refs['dataForm'].validate(function (valid) {\n        if (valid) {\n          if (_this.shoptypelist.length < 1) {\n            _this.$message({\n              type: 'error',\n              message: '产品分类不能为空'\n            });\n\n            return false;\n          }\n\n          var pushdata = _this.dataForm;\n\n          if (_this.dataForm.checkList.length == 0) {\n            pushdata.agentBuy = 0;\n          } else if (_this.dataForm.checkList.length == 2) {\n            pushdata.agentBuy = 3;\n          } else {\n            if (_this.dataForm.checkList[0] == '物流进货') {\n              pushdata.agentBuy = 1;\n            } else {\n              pushdata.agentBuy = 2;\n            }\n          }\n\n          if (_this.shopup == 1) {\n            pushdata.putawayTime = 0;\n\n            if (_this.shopdown == 2) {\n              pushdata.soldoutTime = 0;\n            }\n          } else if (_this.shopup == 3) {\n            pushdata.putawayTime = 0;\n            pushdata.soldoutTime = 0;\n          } else {\n            if (_this.shopdown == 2) {\n              pushdata.soldoutTime = 0;\n            }\n          }\n\n          pushdata.standardDtos = [];\n          pushdata.productGuigeNames = [];\n\n          if (_this.skuList.length > 0) {\n            var skuguigelist = _this.skuList[0].properties.split(';');\n\n            if (skuguigelist.length == 1) {\n              pushdata.productGuigeNames.push({\n                gname: skuguigelist[0],\n                lvevl: 1\n              });\n            } else {\n              pushdata.productGuigeNames.push({\n                gname: skuguigelist[0],\n                lvevl: 1\n              }, {\n                gname: skuguigelist[1],\n                lvevl: 2\n              });\n            }\n          }\n\n          for (var i = 0; i < _this.skuList.length; i++) {\n            var skulistdata = {\n              sp1: '',\n              sp2: '',\n              productNumber: '',\n              price: '',\n              weight: '',\n              pic: ''\n            };\n\n            var skulistsplist = _this.skuList[i].properties.split(';');\n\n            if (skulistsplist.length <= 1) {\n              skulistdata.sp1 = skulistsplist[0].split(':')[1];\n              skulistdata.productNumber = _this.skuList[i].productNumber;\n              skulistdata.weight = _this.skuList[i].weight;\n              skulistdata.price = _this.skuList[i].price;\n              skulistdata.pic = _this.skuList[i].pic;\n            } else {\n              skulistdata.sp1 = skulistsplist[0].split(':')[1];\n              skulistdata.sp2 = skulistsplist[1].split(':')[1];\n              skulistdata.productNumber = _this.skuList[i].productNumber;\n              skulistdata.weight = _this.skuList[i].weight;\n              skulistdata.price = _this.skuList[i].price;\n              skulistdata.pic = _this.skuList[i].pic;\n            }\n\n            pushdata.standardDtos.push(skulistdata);\n          }\n\n          pushdata.typeIds = [];\n\n          for (var _i = 0; _i < _this.shoptypelist.length; _i++) {\n            pushdata.typeIds.push(_this.shoptypelist[_i].tid);\n          }\n\n          if (_this.dataForm.isUniformFreight == 2) {\n            pushdata.retailFreightId = _this.allfreight;\n            pushdata.agentFreightId = _this.allfreight;\n            pushdata.cloudFreightId = _this.allfreight;\n          }\n\n          pushdata.productType = 0;\n\n          if (_this.shopid != 0) {\n            var putdata = {\n              pid: _this.shopid,\n              productType: 0,\n              productNumber: pushdata.productNumber,\n              cover: pushdata.cover,\n              productName: pushdata.productName,\n              productIntro: '',\n              price: pushdata.price,\n              isUniformFreight: pushdata.isUniformFreight,\n              marketPrice: pushdata.marketPrice,\n              weight: pushdata.weight,\n              showStock: pushdata.showStock,\n              content: pushdata.content,\n              retailFreightId: pushdata.retailFreightId,\n              agentFreightId: pushdata.agentFreightId,\n              cloudFreightId: pushdata.cloudFreightId,\n              sales: pushdata.sales,\n              sort: pushdata.sort,\n              inviteReward: pushdata.inviteReward,\n              stockPrice: pushdata.stockPrice,\n              putawayTime: pushdata.putawayTime,\n              soldoutTime: pushdata.soldoutTime,\n              typeIds: pushdata.typeIds,\n              productParams: pushdata.productParams,\n              units: pushdata.units,\n              standardDtos: pushdata.standardDtos,\n              productImageDtos: pushdata.productImageDtos\n            };\n            putProdDataAPI(putdata).then(function (res) {\n              var sucresponse = res.data;\n\n              if (sucresponse.code == 200) {\n                _this.$message({\n                  type: 'success',\n                  message: '修改产品成功'\n                });\n\n                _this.$emit('close-form');\n\n                _this.$emit('finish-action');\n              } else {\n                _this.errorMsg(sucresponse.message);\n              }\n            }).catch(function (err) {\n              console.log(err);\n              _this.tableLoading = false;\n            });\n          } else {\n            pushProdDataAPI(pushdata).then(function (res) {\n              var response = res.data;\n\n              if (response.code == 200) {\n                _this.$message({\n                  type: 'success',\n                  message: '添加产品成功'\n                });\n\n                _this.$emit('close-form');\n\n                _this.$emit('finish-action');\n              } else {\n                _this.errorMsg(response.message);\n              }\n            }).catch(function (err) {\n              console.log(err);\n              _this.tableLoading = false;\n            });\n          }\n        }\n      });\n    },\n    paramSetPriceAndStocks: function paramSetPriceAndStocks(param) {},\n    skuTagChangeSkuHandler: function skuTagChangeSkuHandler(skuList) {\n      var prodName = this.prodName;\n      skuList.forEach(function (sku) {\n        if (sku.properties) {\n          sku.skuName = '';\n          var properties = sku.properties.split(';');\n\n          for (var propertiesKey in properties) {\n            sku.skuName += properties[propertiesKey].split(':')[1] + ' ';\n          }\n\n          sku.prodName = prodName + ' ' + sku.skuName;\n        }\n      });\n      this.skuList = skuList;\n    },\n    getproddetail: function getproddetail(id) {\n      var _this2 = this;\n\n      getProdDetailAPI(id).then(function (res) {\n        var data = res.data.data;\n        _this2.dataForm = data;\n        _this2.dataForm.productImageDtos = data.productImageList;\n        _this2.rules.picfile = [{\n          required: true,\n          message: '请上传图片'\n        }];\n\n        if (_this2.dataForm.cover != '') {\n          _this2.rules.picfile = [];\n        }\n\n        if (data.agentBuy = 0) {\n          _this2.dataForm.checkList = [];\n        } else if (data.agentBuy = 3) {\n          _this2.dataForm.checkList = [\"物流进货\", \"云仓库储货\"];\n        } else {\n          if (data.agentBuy = 1) {\n            _this2.dataForm.checkList = [\"物流进货\"];\n          } else {\n            _this2.dataForm.checkList = [\"云仓库储货\"];\n          }\n        }\n\n        _this2.shoptypelist = data.productTypeList;\n        _this2.dataForm.isUniformFreight = data.isUniformFreight;\n        _this2.attributeDepList = data.productParamList;\n        var skulistData = data.productSkuList;\n        var skunamelist = data.productGuigeNameList;\n\n        for (var i = 0; i < skulistData.length; i++) {\n          var skulistpushdata = {\n            pic: \"\",\n            price: 0,\n            prodName: \" 标签值 二级标签值 \",\n            productNumber: 0,\n            properties: \"一级标签:标签值;二级标签:二级标签值\",\n            skuName: \"标签值 二级标签值 \",\n            status: 1,\n            weight: 0\n          };\n          skulistpushdata.pic = skulistData[i].pic;\n          skulistpushdata.price = skulistData[i].price;\n          skulistpushdata.weight = skulistData[i].weight;\n          skulistpushdata.productNumber = skulistData[i].productNumber;\n\n          if (skunamelist.length == 2) {\n            skulistpushdata.properties = skunamelist[0].gname + ':' + skulistData[i].sp1 + ';' + skunamelist[1].gname + ':' + skulistData[i].sp2;\n            skulistpushdata.skuName = skulistData[i].sp1 + ' ' + skulistData[i].sp2;\n            skulistpushdata.prodName = ' ' + skulistData[i].sp1 + ' ' + skulistData[i].sp2 + ' ';\n          } else {\n            skulistpushdata.skuName = skulistData[i].sp1;\n            skulistpushdata.properties = skunamelist[0].gname + ':' + skulistData[i].sp1;\n            skulistpushdata.skuName = skulistData[i].sp1;\n            skulistpushdata.prodName = ' ' + skulistData[i].sp1;\n          }\n\n          _this2.skuList.push(skulistpushdata);\n        }\n\n        if (data.status == -1) {\n          _this2.shopup = \"3\";\n        } else {\n          if (data.putawayTime == 0) {\n            _this2.shopup = \"1\";\n\n            if (data.soldoutTime != 0) {\n              _this2.shopdown = \"1\";\n            } else {\n              _this2.shopdown = \"2\";\n            }\n          } else {\n            _this2.shopup = \"2\";\n\n            if (data.soldoutTime != 0) {\n              _this2.shopdown = \"1\";\n            } else {\n              _this2.shopdown = \"2\";\n            }\n          }\n        }\n\n        var editor = new E('#editorElem');\n\n        editor.customConfig.onchange = function (html) {\n          _this2.dataForm.content = html;\n        };\n\n        editor.customConfig.customUploadImg = function (files, insert) {\n          var formData = new FormData();\n          formData.append('files', files[0]);\n          axios.post(\"http://admin.zhanchengwlkj.com:8080/derivative_system_backstage/file/addFile\", formData, {\n            headers: {\n              \"Content-Type\": \"multipart/form-data\"\n            }\n          }).then(function (res) {\n            var data = res.data;\n            insert(data.data); // 插入图片到editor\n          }); // formData.append('path', 'files/ne-icev3-dashboard/content/content/');\n        };\n\n        editor.customConfig.uploadImgShowBase64 = true; //图片以base64形式保存\n\n        editor.create();\n        editor.txt.html(_this2.dataForm.content);\n      }).catch(function (err) {\n        _this2.tableLoading = false;\n      });\n    },\n    errorMsg: function errorMsg(message) {\n      this.$message({\n        message: message,\n        type: 'error',\n        duration: 1500\n      });\n    },\n    getfreightlist: function getfreightlist() {\n      var _this3 = this;\n\n      var getTempParam = {\n        current: 1,\n        size: 100\n      };\n      getTemplateListAPI(getTempParam).then(function (res) {\n        var response = res.data.data.records;\n        _this3.freightlist = response;\n      }).catch(function (err) {\n        _this3.tableLoading = false;\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this4 = this;\n\n    //wangEditor自带方法\n    if (this.depId != 0) {\n      this.shopid = this.depId;\n      this.getproddetail(this.depId);\n    } else {\n      var editor = new E('#editorElem');\n      editor.customConfig.uploadImgShowBase64 = true; //图片以base64形式保存\n\n      editor.customConfig.onchange = function (html) {\n        _this4.dataForm.content = html;\n      };\n\n      editor.customConfig.customUploadImg = function (files, insert) {\n        var formData = new FormData();\n        formData.append('files', files[0]);\n        axios.post(\"http://admin.zhanchengwlkj.com:8080/derivative_system_backstage/file/addFile\", formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        }).then(function (res) {\n          var data = res.data;\n          insert(data.data); // 插入图片到editor\n        }); // formData.append('path', 'files/ne-icev3-dashboard/content/content/');\n      };\n\n      editor.customConfig.uploadImgShowBase64 = true; //图片以base64形式保存\n\n      editor.create();\n    }\n\n    this.getfreightlist();\n  }\n};",{"version":3,"sources":["prodInfo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"mod-prod-info\">\n    <el-form :model=\"dataForm\"\n             ref=\"dataForm\"\n             :rules=\"rules\"\n             label-width=\"150px\">\n      <el-form-item label=\"商品名称:\"\n                    prop=\"productName\"\n                    :rules=\"[{ required: true, message: '商品名称不能为空'}]\">\n        <el-col :span=\"8\">\n          <el-input v-model=\"dataForm.productName\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"商品主图:\" prop=\"picfile\">\n        <el-upload\n            class=\"avatar-uploader\"\n            action=\"http://admin.zhanchengwlkj.com:8080/derivative_system_backstage/file/addFile\"\n            :show-file-list=\"false\"\n            :auto-upload=\"true\"\n            name=\"files\"\n            :on-success=\"uploadImg\"\n            :before-upload=\"beforeAvatarUpload\">\n            <img v-if=\"dataForm.cover\" :src=\"dataForm.cover\" class=\"avatar\">\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n      </el-form-item>\n      <el-form-item label=\"商品图片:\">\n       <el-upload\n        action=\"http://admin.zhanchengwlkj.com:8080/derivative_system_backstage/file/addFile\"\n        list-type=\"picture-card\"\n        name='files'\n        :file-list=\"dataForm.productImageDtos\"\n        :auto-upload=\"true\"\n        :on-success=\"uploadImgTwo\"\n        :on-preview=\"handlePictureCardPreview\"\n        :on-remove=\"handleRemove\">\n        <i class=\"el-icon-plus\"></i>\n      </el-upload>\n      <el-dialog :visible.sync=\"dialogVisible\">\n        <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n      </el-dialog>\n      </el-form-item>\n      <el-form-item label=\"商品货号:\"\n                    prop=\"productNumber\"\n                    :rules=\"[{ required: true, message: '商品货号不能为空'}]\">\n        <el-col :span=\"8\">\n          <el-input v-model=\"dataForm.productNumber\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"商品零售价:\"\n                    prop=\"price\"\n                    :rules=\"[{ required: true, message: '商品零售价不能为空'}]\">\n        <el-col :span=\"8\">\n          <el-input v-model=\"dataForm.price\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"商品市场价:\"\n                    prop=\"marketPrice\"\n                    >\n        <el-col :span=\"8\">\n          <el-input v-model=\"dataForm.marketPrice\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"进货价:\"\n                    prop=\"stockPrice\"\n                    :rules=\"[{ required: true, message: '商品进货价格不能为空'}]\">\n        <el-col :span=\"8\">\n          <el-input v-model=\"dataForm.stockPrice\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"邀请奖励金额:\"\n                    prop=\"inviteReward\">\n        <el-col :span=\"8\">\n          <el-input v-model=\"dataForm.inviteReward\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"装箱数:\"\n                    prop=\"weight\"\n                    :rules=\"[{ required: true, message: '装箱数不能为空'}]\">\n        <el-col :span=\"8\">\n          <el-input v-model=\"dataForm.weight\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"（必选）商品分类:\">\n        <el-col :span=\"8\">\n          <el-button @click=\"handleSecondDepShow\" type=\"primary\">选择分类</el-button>\n        </el-col>\n      </el-form-item>\n      <el-form-item>\n          <el-tag\n            v-for=\"item in shoptypelist\"\n            :key=\"item.tid\"\n            closable\n            @close='delshoptype(item.tid)'\n            >\n            {{item.typeName}}\n          </el-tag>\n      </el-form-item>\n      <el-form-item label=\"商品属性组:\">\n        <el-col :span=\"8\">\n          <el-button @click=\"handleAttributeDepShow\" type=\"primary\">选择属性组</el-button>\n        </el-col>\n      </el-form-item>\n      <el-form-item >\n        <el-col :span=\"8\">\n          <el-input v-model=\"attrtext\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n          <el-button @click=\"saveattrtext\">添加</el-button>\n      </el-form-item>\n      <el-form-item\n          v-for=\"(domain, index) in attributeDepList\"\n          :label=\"domain.name\"\n          :key=\"index\"\n          :rules=\"{\n            required: true, message: '属性值不能为空', trigger: 'blur'\n          }\"\n        >\n        <el-col :span=\"8\">\n          <el-input v-model=\"domain.value\"></el-input>\n        </el-col>\n        <el-button @click.prevent=\"removeDomain(domain)\">删除</el-button>\n      </el-form-item>\n      <el-collapse  @change=\"handleChange\">\n        <el-collapse-item title=\"更多设置\" name=\"1\">\n          <el-form-item label=\"下单时是否显示库存:\">\n            <el-radio-group v-model=\"dataForm.showStock\">\n              <el-radio :label=\"1\">是</el-radio>\n              <el-radio :label=\"0\">否</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"商品排序:\"\n                    prop=\"sort\">\n            <el-col :span=\"8\">\n              <el-input v-model=\"dataForm.sort\"\n                        placeholder=\"请输入\"\n                        maxlength=\"50\"></el-input>\n            </el-col>\n          </el-form-item>\n          <el-form-item label=\"基础销量:\"\n                    prop=\"sales\">\n            <el-col :span=\"8\">\n              <el-input v-model=\"dataForm.sales\"\n                        placeholder=\"请输入\"\n                        maxlength=\"50\"></el-input>\n            </el-col>\n          </el-form-item>\n          <!-- <el-form-item label=\"商品箱规设置:\"\n                    prop=\"units\"\n                    :rules=\"[{ required: true, message: '商品箱规不能为空'}]\">\n            <el-col :span=\"8\">\n              <el-button @click=\"handleSecondDepShow\" type=\"primary\">选择分类</el-button>\n            </el-col>\n          </el-form-item> -->\n          <!-- 商品规格 -->\n          <sku-tag ref=\"skuTag\"\n               @change=\"skuTagChangeSkuHandler\"></sku-tag>\n          <sku-table ref=\"skuTable\"\n                 v-model=\"skuList\"\n                 :prodName.sync=\"prodName\"></sku-table>\n        </el-collapse-item>\n      </el-collapse>\n      <div  class=\"mbline\">运费模板</div>\n      <el-form-item label=\"配送方式\">\n        <div >\n          <el-radio v-model=\"dataForm.isUniformFreight\" label=\"0\">分别设置</el-radio>\n          <el-form-item  label-width=\"180px\" label=\"零售运费模板：\">\n            <el-select v-model=\"dataForm.retailFreightId\" v-bind:disabled=\"dataForm.isUniformFreight==1\"  placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in freightlist\"\n                :key=\"item.id\"\n                :label=\"item.title\"\n                :value=\"item.id\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item style=\"margin-top:10px\" label-width=\"180px\" label=\"代理运费模板：\">\n            <el-select v-model=\"dataForm.agentFreightId\"  v-bind:disabled=\"dataForm.isUniformFreight==1\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in freightlist\"\n                :key=\"item.id\"\n                :label=\"item.title\"\n                :value=\"item.id\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item style=\"margin-top:10px\" label-width=\"180px\" label=\"云仓库提货运费模板：\">\n            <el-select v-model=\"dataForm.cloudFreightId\" v-bind:disabled=\"dataForm.isUniformFreight==1\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in freightlist\"\n                :key=\"item.id\"\n                :label=\"item.title\"\n                :value=\"item.id\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </div>\n        <div>\n          <el-radio v-model=\"dataForm.isUniformFreight\" label=\"1\">统一设置</el-radio>\n          <el-form-item label-width=\"180px\" label=\"设置：\">\n            <el-select v-model=\"allfreight\"  placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in freightlist\"\n                :key=\"item.id\"\n                :label=\"item.title\"\n                :value=\"item.id\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </div>\n      </el-form-item>\n      <div  class=\"mbline\">上下架/其他</div>\n      <el-form-item label-width=\"180px\" label=\"代理方式：\" prop=\"checkList\">\n          <el-checkbox-group v-model=\"dataForm.checkList\"  >\n                <el-checkbox label=\"物流进货\"  ></el-checkbox>\n                <el-checkbox label=\"云仓库储货\" ></el-checkbox>\n          </el-checkbox-group>\n      </el-form-item>\n      <el-form-item label-width=\"180px\" label=\"上架时间\">\n          <el-radio v-model=\"shopup\" label=\"1\">立即上架</el-radio>\n          <el-radio v-model=\"shopup\" label=\"2\">定时上架</el-radio>\n          <el-radio v-model=\"shopup\" label=\"3\">暂不上架</el-radio>\n          <el-form-item  v-if=\"shopup==2\">\n            <el-date-picker\n              v-model=\"dataForm.putawayTime\"\n              type=\"datetime\"\n              value-format=\"yyyy-MM-dd HH:mm:ss\"\n              placeholder=\"选择日期时间\">\n            </el-date-picker>\n          </el-form-item>\n      </el-form-item>\n      <el-form-item v-if=\"shopup!=3\" label-width=\"180px\" label=\"定时下架\">\n          <el-radio v-model=\"shopdown\" label=\"1\">是</el-radio>\n          <el-radio v-model=\"shopdown\" label=\"2\">否</el-radio>\n          <el-form-item  v-if=\"shopdown==1\">\n            <el-date-picker\n              v-model=\"dataForm.soldoutTime\"\n              type=\"datetime\"\n              value-format=\"yyyy-MM-dd HH:mm:ss\"\n              placeholder=\"选择日期时间\">\n            </el-date-picker>\n          </el-form-item>\n      </el-form-item>\n      <el-form-item  label=\"商品详情：\">\n          <div id=\"editorElem\"  style=\"text-align:left\"></div>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\"\n                   @click=\"dataFormSubmit()\">确定</el-button>\n      </el-form-item>\n       <el-dialog\n            title=\"商品分类\"\n            :append-to-body=\"true\"\n            :visible.sync=\"secondDepShow\"\n            width=\"60%\">\n                <second-index\n                v-if=\"secondDepShow\"\n                @changetype=\"changeshoptype\"\n                :prodtype-list=\"shoptypelist\"\n                @close-form=\"secondDepShow = false\"\n                ></second-index>\n        </el-dialog>\n        <el-dialog\n            title=\"商品属性组\"\n            :append-to-body=\"true\"\n            :visible.sync=\"AttributeDepShow\"\n            width=\"60%\">\n                <attribute-index\n                v-if=\"AttributeDepShow\"\n                @changeattrlist=\"changeattrlist\"\n                @close-form=\"AttributeDepShow = false\"\n                ></attribute-index>\n        </el-dialog>\n    </el-form>\n  </div>\n</template>\n\n<script>\nconst AttributeIndex = () => import('./shopAttribute.vue');\nconst SecondIndex = () => import('./shoptype.vue');\nimport {\n  getProdDetailAPI,\n  getTemplateListAPI,\n  pushProdDataAPI,\n  putProdDataAPI\n}from '@/api/productApi.js'\nimport axios from 'axios';\nimport { treeDataTranslate, idList } from '@/utils'\nimport E from 'wangeditor';\nimport SkuTable from './sku-table'\nimport SkuTag from './sku-tag'\nexport default {\n   name:'editor',\n  data () {\n    return {\n      // 分类树展示与回显\n      transportId: null,\n      shopid:0,\n      shopup:'1',\n      shopdown:'1',\n      value1:'',\n      attrtext:'',\n      attributeDepList:[],\n      category: {\n        list: [],\n        selected: [],\n        props: {\n          value: 'categoryId',\n          label: 'categoryName'\n        }\n      },\n      rules: {\n        checkList: [\n                { type: 'array', required: true, message: '请选择代理购买方式', trigger: 'change' }\n              ],\n        picfile: [ \n            { required: true, message: '请上传图片' }          \n          ]\n      },\n      fileList:[],\n      freightlist:[],\n      allfreight:'',\n      AttributeDepShow:false,\n      secondDepShow:false,\n      imageShowUrl:'',\n      // 规格列表\n      shoptypelist:[],\n      skuList:[],\n      prodName:'',\n      dialogImageUrl: '',\n      dialogVisible: false,\n      dataForm: {\n        checkList:[],\n        productType:0,\n        sid:0,\n        productNumber:'',\n        productName: '',\n        cover:'',\n        productIntro:'',\n        price:'',\n        inviteReward:'',\n        marketPrice:'',\n        weight:'',\n        stockPrice:'',\n        isUniformFreight:'0',\n        showStock:1,\n        content:'',\n        retailFreightId:'',\n        agentFreightId:'',\n        cloudFreightId:'',\n        sales:'',\n        agentBuy:'',\n        sort:'',\n        putawayTime:'',\n        soldoutTime:'',\n        typeIds:[],\n        productParams:[],\n        units:[],\n        standardDtos:[],\n        productImageDtos:[]\n      },\n      tags: [],\n      // resourcesUrl: window.SITE_CONFIG.resourcesUrl\n    }\n  },\n  components: {\n    SkuTable,\n    SkuTag,\n    SecondIndex,\n    AttributeIndex\n  },\n  props: {\n    depId: {\n      required: true,\n    },\n  },\n  computed: {\n    defalutSku () {\n      return this.$store.state.prod.defalutSku\n    }\n  },\n  activated () {\n    this.dataForm.prodId = this.$route.query.prodId\n    this.getDataList()\n  },\n  methods: {\n    // 获取分类数据\n    getDataList () {\n     \n    },\n    handleRemove(file, fileList) {\n      for(let i=0;i<this.dataForm.productImageDtos.length;i++){\n        if(file.url==this.dataForm.productImageDtos[i].url){\n          this.dataForm.productImageDtos.splice(i,1)\n        }\n      }\n    },\n    uploadImgTwo(res){\n      this.dataForm.productImageDtos.push({\n        sort:0,\n        url:res.data\n      })\n    },\n    handlePictureCardPreview(file) {\n        this.dialogImageUrl = file.url;\n        this.dialogVisible = true;\n    },\n    removeDomain(item) {\n        for(let j=0;j<this.attributeDepList.length;j++){\n          if(this.attributeDepList[j].name==item.name){\n            this.attributeDepList.splice(j,1)\n          }\n        }\n      },\n    delshoptype(deltid){\n     for(let i=0;i<this.shoptypelist.length;i++){\n       if(this.shoptypelist[i].tid==deltid){\n         this.shoptypelist.splice(i,1)\n       }\n     }\n    },\n    saveattrtext(){\n      let isokpush =true;\n      for(let j=0;j<this.attributeDepList.length;j++){\n          if(this.attributeDepList[j].name==this.attrtext){\n            isokpush=false\n            this.$message({\n              type: 'error',\n              message: '不能添加已有属性值',\n            });\n          }\n      }\n      if(isokpush){\n        if(this.attrtext!=''){\n            this.attributeDepList.push({\n            name:this.attrtext,\n            value:''\n          })\n          \n          this.attrtext=''\n        }else{\n          this.$message({\n              type: 'error',\n              message: '属性值不能为空',\n            });\n        }\n      }\n    },\n    changeshoptype(typelist){\n      this.shoptypelist=typelist\n    },\n    changeattrlist(attrlist){\n      let attribute =attrlist.split(',')\n      for(let i=0;i<attribute.length;i++){\n        let ischeck=true\n        for(let j=0;j<this.attributeDepList.length;j++){\n          if(this.attributeDepList[j].name==attribute[i]){\n            ischeck=false\n          }\n        }\n        if(ischeck){\n          this.attributeDepList.push({name:attribute[i],value:''})\n        }\n      }\n    },\n    handleChange(){\n      \n    },\n    handleSecondDepShow(){\n      this.secondDepShow = true;\n    },\n    handleAttributeDepShow(){\n      this.AttributeDepShow=true\n    },\n    uploadImg(res){\n      this.dataForm.cover = res.data;\n      this.imageShowUrl=res.data\n      this.rules.picfile = [{ required: true, message: '请上传图片' }] \n      if (this.dataForm.cover!='') {\n        this.rules.picfile = []\n      }\n    },\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\n      const isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG或者PNG 格式!');\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n      return isJPG && isLt2M;\n    },    \n    // 获取分类信息\n    getCategoryList () {\n    },\n    // 选择分类改变事件\n    handleCategoryChange (val) {\n      this.dataForm.categoryId = val[val.length - 1]\n    },\n    // 表单提交\n    dataFormSubmit () {\n          let that=this;\n        this.$refs['dataForm'].validate((valid) => {\n          if(valid){\n            if(this.shoptypelist.length<1){\n              this.$message({\n                type: 'error',\n                message: '产品分类不能为空',\n              });\n              return false\n            }\n            const pushdata =this.dataForm\n            if(this.dataForm.checkList.length==0){\n              pushdata.agentBuy=0\n            }else if(this.dataForm.checkList.length==2){\n              pushdata.agentBuy=3\n            }else{\n              if(this.dataForm.checkList[0]=='物流进货'){\n                pushdata.agentBuy=1\n              }else{\n                pushdata.agentBuy=2\n              }\n            }\n            if(this.shopup==1){\n              pushdata.putawayTime=0\n              if(this.shopdown==2){\n                pushdata.soldoutTime=0\n              }\n            }else if(this.shopup==3){\n              pushdata.putawayTime=0\n              pushdata.soldoutTime=0\n            }else{\n              if(this.shopdown==2){\n                pushdata.soldoutTime=0\n              }\n            }\n            pushdata.standardDtos=[]\n            pushdata.productGuigeNames=[]\n            if(this.skuList.length>0){\n               let skuguigelist =this.skuList[0].properties.split(';')\n               if(skuguigelist.length==1){\n                 pushdata.productGuigeNames.push({\n                   gname:skuguigelist[0],\n                   lvevl:1\n                 })\n               }else{\n                  pushdata.productGuigeNames.push({\n                   gname:skuguigelist[0],\n                   lvevl:1\n                 },{\n                   gname:skuguigelist[1],\n                   lvevl:2\n                 })\n               }\n            }\n            for(let i=0;i<this.skuList.length;i++){\n              let skulistdata={\n                sp1:'',\n                sp2:'',\n                productNumber:'',\n                price:'',\n                weight:'',\n                pic:''\n              }\n              let skulistsplist =this.skuList[i].properties.split(';')\n              if(skulistsplist.length<=1){\n                  skulistdata.sp1=skulistsplist[0].split(':')[1]\n                  skulistdata.productNumber=this.skuList[i].productNumber\n                  skulistdata.weight=this.skuList[i].weight\n                  skulistdata.price=this.skuList[i].price\n                  skulistdata.pic=this.skuList[i].pic\n              }else{\n                  skulistdata.sp1=skulistsplist[0].split(':')[1]\n                  skulistdata.sp2=skulistsplist[1].split(':')[1]\n                  skulistdata.productNumber=this.skuList[i].productNumber\n                  skulistdata.weight=this.skuList[i].weight\n                  skulistdata.price=this.skuList[i].price\n                  skulistdata.pic=this.skuList[i].pic\n              }\n              pushdata.standardDtos.push(skulistdata)\n            }\n            pushdata.typeIds=[]\n            for(let i=0;i<this.shoptypelist.length;i++){\n              pushdata.typeIds.push(this.shoptypelist[i].tid)\n            }\n            if(this.dataForm.isUniformFreight==2){\n              pushdata.retailFreightId=this.allfreight\n              pushdata.agentFreightId=this.allfreight\n              pushdata.cloudFreightId=this.allfreight\n            }\n            pushdata.productType=0\n            if(this.shopid!=0){\n              const putdata={\n                pid:this.shopid,\n                productType:0,\n                productNumber:pushdata.productNumber,\n                cover:pushdata.cover,\n                productName:pushdata.productName,\n                productIntro:'',\n                price:pushdata.price,\n                isUniformFreight:pushdata.isUniformFreight,\n                marketPrice:pushdata.marketPrice,\n                weight:pushdata.weight,\n                showStock:pushdata.showStock,\n                content:pushdata.content,\n                retailFreightId:pushdata.retailFreightId,\n                agentFreightId:pushdata.agentFreightId,\n                cloudFreightId:pushdata.cloudFreightId,\n                sales:pushdata.sales,\n                sort:pushdata.sort,\n                inviteReward:pushdata.inviteReward,\n                stockPrice:pushdata.stockPrice,\n                putawayTime:pushdata.putawayTime,\n                soldoutTime:pushdata.soldoutTime,\n                typeIds:pushdata.typeIds,\n                productParams:pushdata.productParams,\n                units:pushdata.units,\n                standardDtos:pushdata.standardDtos,\n                productImageDtos:pushdata.productImageDtos,\n              }\n              putProdDataAPI(putdata)\n                .then(res => {\n                    const sucresponse = res.data;\n                    if(sucresponse.code==200){\n                      this.$message({\n                        type: 'success',\n                        message: '修改产品成功',\n                      });\n                      this.$emit('close-form')\n                      this.$emit('finish-action')\n                    }else{\n                      this.errorMsg(sucresponse.message)\n                    }\n                })\n                .catch(err => {\n                  console.log(err)\n                    this.tableLoading = false;\n                }) \n            }else{\n              pushProdDataAPI(pushdata)\n                .then(res => {\n                    const response = res.data;\n                    if(response.code==200){\n                      this.$message({\n                        type: 'success',\n                        message: '添加产品成功',\n                      });\n                      this.$emit('close-form')\n                      this.$emit('finish-action')\n                    }else{\n                      this.errorMsg(response.message)\n                    }\n                })\n                .catch(err => {\n                  console.log(err)\n                    this.tableLoading = false;\n                })            \n            }\n          }\n         \n        })\n    },\n    paramSetPriceAndStocks (param) {\n      \n    },\n    skuTagChangeSkuHandler (skuList) {\n      const prodName = this.prodName\n      skuList.forEach(sku => {\n        if (sku.properties) {\n          sku.skuName = ''\n          let properties = sku.properties.split(';')\n          for (const propertiesKey in properties) {\n            sku.skuName += properties[propertiesKey].split(':')[1] + ' '\n          }\n          sku.prodName = prodName + ' ' + sku.skuName\n        }\n      })\n      this.skuList = skuList\n    },\n    getproddetail(id){\n      getProdDetailAPI(id)\n        .then(res => {\n          const data = res.data.data;\n          this.dataForm=data\n          this.dataForm.productImageDtos=data.productImageList\n          this.rules.picfile = [{ required: true, message: '请上传图片' }] \n          if (this.dataForm.cover!='') {\n            this.rules.picfile = []\n          }\n          if(data.agentBuy=0){\n              this.dataForm.checkList=[]\n          }else if(data.agentBuy=3){\n              this.dataForm.checkList=[\"物流进货\",\"云仓库储货\"]\n          }else{\n              if( data.agentBuy=1){\n                this.dataForm.checkList=[\"物流进货\"]\n              }else{\n                this.dataForm.checkList=[\"云仓库储货\"]\n              }\n          }\n          this.shoptypelist=data.productTypeList\n          this.dataForm.isUniformFreight=data.isUniformFreight\n          this.attributeDepList=data.productParamList\n          let skulistData =data.productSkuList\n          let skunamelist =data.productGuigeNameList\n          for(let i=0;i<skulistData.length;i++){\n            let skulistpushdata ={\n              pic: \"\",\n              price: 0,\n              prodName: \" 标签值 二级标签值 \",\n              productNumber: 0,\n              properties: \"一级标签:标签值;二级标签:二级标签值\",\n              skuName: \"标签值 二级标签值 \",\n              status: 1,\n              weight: 0,\n            }\n            skulistpushdata.pic=skulistData[i].pic\n            skulistpushdata.price=skulistData[i].price\n            skulistpushdata.weight=skulistData[i].weight\n            skulistpushdata.productNumber=skulistData[i].productNumber\n            if(skunamelist.length==2){\n              skulistpushdata.properties=skunamelist[0].gname+':'+skulistData[i].sp1+';'+skunamelist[1].gname+':'+skulistData[i].sp2\n              skulistpushdata.skuName=skulistData[i].sp1 + ' '+skulistData[i].sp2\n              skulistpushdata.prodName=' '+skulistData[i].sp1 + ' '+skulistData[i].sp2+' '\n            }else{\n               skulistpushdata.skuName=skulistData[i].sp1\n               skulistpushdata.properties=skunamelist[0].gname+':'+skulistData[i].sp1\n               skulistpushdata.skuName=skulistData[i].sp1\n               skulistpushdata.prodName=' '+skulistData[i].sp1\n            }\n            this.skuList.push(skulistpushdata)\n          }\n          if(data.status==-1){\n              this.shopup=\"3\"\n            }else{\n              if(data.putawayTime==0){\n                this.shopup=\"1\"\n                if(data.soldoutTime!=0){\n                  this.shopdown=\"1\"\n                }else{\n                  this.shopdown=\"2\"\n                }\n              }else{\n                this.shopup=\"2\"\n                if(data.soldoutTime!=0){\n                  this.shopdown=\"1\"\n                }else{\n                  this.shopdown=\"2\"\n                }\n              }\n            }\n\n            var editor = new E('#editorElem')\n            editor.customConfig.onchange = (html) => {\n              this.dataForm.content = html\n            }\n            editor.customConfig.customUploadImg = (files, insert) => {\n              const formData = new FormData();\n              formData.append('files', files[0]);\n               axios.post(\"http://admin.zhanchengwlkj.com:8080/derivative_system_backstage/file/addFile\", formData, {\n                  headers: {\n                    \"Content-Type\": \"multipart/form-data\"\n                  }\n                }).then(res => {\n                  let { data } = res\n                  insert(data.data)  \n                  // 插入图片到editor\n                });\n              // formData.append('path', 'files/ne-icev3-dashboard/content/content/');\n              \n            };\n            editor.customConfig.uploadImgShowBase64 = true //图片以base64形式保存\n            editor.create()\n            editor.txt.html(this.dataForm.content)\n        })\n        .catch(err => {\n            this.tableLoading = false;\n        })\n    },\n    errorMsg (message) {\n      this.$message({\n        message: message,\n        type: 'error',\n        duration: 1500\n      })\n    },\n    getfreightlist(){\n        const getTempParam = {\n          current:1,\n          size:100\n        };\n        getTemplateListAPI(getTempParam)\n            .then(res => {\n                const response = res.data.data.records;\n                this.freightlist =response\n            })\n            .catch(err => {\n                this.tableLoading = false;\n            })\n    }\n  },\n  mounted() {\n        //wangEditor自带方法\n        if(this.depId!=0){\n          this.shopid=this.depId\n          this.getproddetail(this.depId)\n        }else{\n            var editor = new E('#editorElem')\n            editor.customConfig.uploadImgShowBase64 = true //图片以base64形式保存\n            editor.customConfig.onchange = (html) => {\n              this.dataForm.content = html\n            }\n            editor.customConfig.customUploadImg = (files, insert) => {\n              const formData = new FormData();\n              formData.append('files', files[0]);\n               axios.post(\"http://admin.zhanchengwlkj.com:8080/derivative_system_backstage/file/addFile\", formData, {\n                  headers: {\n                    \"Content-Type\": \"multipart/form-data\"\n                  }\n                }).then(res => {\n                  let { data } = res\n                  insert(data.data)  \n                  // 插入图片到editor\n                });\n              // formData.append('path', 'files/ne-icev3-dashboard/content/content/');\n              \n            };\n            editor.customConfig.uploadImgShowBase64 = true //图片以base64形式保存\n            editor.create()\n        }\n        this.getfreightlist()\n    },\n}\n</script>\n<style scoped=\"scoped\" lang=\"less\">\n.mbline{\n  margin-top:24px;\n  padding-left: 20px;\n  line-height: 40px;\n  background: rgb(249, 249, 249);\n}\n\n.avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n</style>"],"sourceRoot":"src\\components\\prod"}]}