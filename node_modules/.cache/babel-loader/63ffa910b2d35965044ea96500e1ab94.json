{"remainingRequest":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js!E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HtmlProjects\\wsadmin\\src\\components\\franchisedStoreInformation\\franchisedStoreInformationInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HtmlProjects\\wsadmin\\src\\components\\franchisedStoreInformation\\franchisedStoreInformationInfo.vue","mtime":1573462670604},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"E:\\\\HtmlProjects\\\\wsadmin\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/defineProperty\";\n\nvar _methods;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAgentDetailAPI, getfranchisedAdminListAPI, addFranchisedadminAPI, changeFranchisedadminAPI } from '@/api/agentInformationApi.js';\nexport default {\n  name: 'editor',\n  data: function data() {\n    return {\n      // 规格列表\n      pgid: '',\n      genderlist: {\n        0: \"女\",\n        1: \"男\"\n      },\n      freightlist: [],\n      dataForm: {},\n      franchid: -1,\n      imageShowUrl: '',\n      wholeLoding: true // resourcesUrl: window.SITE_CONFIG.resourcesUrl\n\n    };\n  },\n  components: {},\n  props: {\n    agentId: {\n      required: true\n    }\n  },\n  computed: {},\n  methods: (_methods = {\n    errorMsg: function errorMsg(message) {\n      this.$message({\n        message: message,\n        type: 'error',\n        duration: 1500\n      });\n    },\n    // 获取代理详细详情\n    getAgentInfomationDetail: function getAgentInfomationDetail(id) {\n      var _this = this;\n\n      this.wholeLoding = true;\n      getAgentDetailAPI(id).then(function (res) {\n        var data = res.data.data;\n        console.log(data);\n        _this.dataForm = data;\n      }).catch(function (err) {\n        _this.wholeLoding = false;\n      });\n    },\n    //添加修改加盟店\n    dataFormSubmit: function dataFormSubmit() {\n      var _this2 = this;\n\n      this.$refs['dataForm'].validate(function (valid) {\n        if (valid) {\n          if (_this2.franchid != -1) {\n            var paramstwo = {\n              id: _this2.franchid,\n              trueName: _this2.dataForm.trueName,\n              phone: _this2.dataForm.phone,\n              inviterPhone: _this2.dataForm.inviterPhone,\n              adminId: _this2.dataForm.adminId,\n              region: _this2.dataForm.region\n            };\n            changeFranchisedadminAPI(paramstwo).then(function (res) {\n              var sucresponse = res.data;\n\n              if (sucresponse.code == 200 && sucresponse.data == true) {\n                _this2.$message({\n                  type: 'success',\n                  message: '修改加盟店成功'\n                });\n\n                _this2.$emit('close-form');\n\n                _this2.$emit('finish-action');\n              } else {\n                _this2.errorMsg(sucresponse.message);\n              }\n            }).catch(function (err) {\n              _this2.tableLoading = false;\n            });\n          } else {\n            var params = _this2.dataForm;\n            addFranchisedadminAPI(params).then(function (res) {\n              var sucresponse = res.data;\n\n              if (sucresponse.code == 200) {\n                _this2.$message({\n                  type: 'success',\n                  message: '添加加盟店成功'\n                });\n\n                _this2.$emit('close-form');\n\n                _this2.$emit('finish-action');\n              } else {\n                _this2.errorMsg(sucresponse.message);\n              }\n            }).catch(function (err) {\n              _this2.tableLoading = false;\n            });\n          }\n        }\n      });\n    },\n    // 获取管理员列表\n    getfranchisedAdminList: function getfranchisedAdminList() {\n      var _this3 = this;\n\n      getfranchisedAdminListAPI().then(function (res) {\n        var data = res.data.data;\n        _this3.freightlist = data;\n      }).catch(function (err) {\n        _this3.wholeLoding = false;\n      });\n    }\n  }, _defineProperty(_methods, \"errorMsg\", function errorMsg(message) {\n    this.$message({\n      message: message,\n      type: 'error',\n      duration: 1500\n    });\n  }), _defineProperty(_methods, \"backhtmls\", function backhtmls() {\n    this.$emit('close-form');\n  }), _methods),\n  mounted: function mounted() {\n    this.getfranchisedAdminList();\n\n    if (this.agentId != -1) {\n      this.getAgentInfomationDetail(this.agentId);\n      this.franchid = this.agentId;\n    }\n  }\n};",{"version":3,"sources":["franchisedStoreInformationInfo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"mod-prod-info\">\n    <el-form :model=\"dataForm\"\n             ref=\"dataForm\"\n             label-width=\"150px\">\n      <el-form-item v-if=\"franchid==-1\" label=\"加盟店名称:\">\n        <el-col :span=\"12\">\n          <el-input v-model=\"dataForm.storeName\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item v-if=\"franchid!=-1\" label=\"邀请人手机号:\">\n        <el-col :span=\"12\">\n          <el-input v-model=\"dataForm.inviterPhone\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"用户姓名:\">\n        <el-col :span=\"12\">\n          <el-input v-model=\"dataForm.trueName \"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"手机号码:\">\n        <el-col :span=\"12\">\n          <el-input v-model=\"dataForm.phone\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"地址:\">\n        <el-col :span=\"12\">\n          <el-input v-model=\"dataForm.region\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item v-if=\"franchid==-1\" label=\"设置密码:\">\n        <el-col :span=\"12\">\n          <el-input v-model=\"dataForm.password\"\n                    placeholder=\"请输入\"\n                    maxlength=\"50\"></el-input>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"加盟店管理员:\">\n        <el-select v-model=\"dataForm.adminId\"   placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in freightlist\"\n                :key=\"item.uid\"\n                :label=\"item.nickname\"\n                :value=\"item.uid\">\n              </el-option>\n            </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\"\n                   @click=\"dataFormSubmit()\">确定</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport {\n     getAgentDetailAPI,\n     getfranchisedAdminListAPI,\n     addFranchisedadminAPI,\n     changeFranchisedadminAPI,\n} from '@/api/agentInformationApi.js'\nexport default {\n   name:'editor',\n  data () {\n    return {\n      // 规格列表\n      pgid:'',\n      genderlist:{\n        0:\"女\",\n        1:\"男\"\n      },\n      freightlist:[],\n      dataForm:{\n        \n      },\n      franchid:-1,\n      imageShowUrl:'',\n      wholeLoding:true\n      // resourcesUrl: window.SITE_CONFIG.resourcesUrl\n    }\n  },\n  components: {\n\n  },\n  props: {\n    agentId: {\n      required: true,\n    },\n  },\n  computed: {\n  },\n  methods: {    \n    errorMsg (message) {\n      this.$message({\n        message: message,\n        type: 'error',\n        duration: 1500\n      })\n    },\n    // 获取代理详细详情\n    getAgentInfomationDetail(id){\n            this.wholeLoding = true;\n            getAgentDetailAPI(id)\n                .then(res => {\n                   const data=res.data.data\n                    console.log(data)\n                    this.dataForm=data\n                })\n                .catch(err => {\n                    this.wholeLoding = false;\n                })\n    },\n    //添加修改加盟店\n    dataFormSubmit () {\n        this.$refs['dataForm'].validate((valid) => {\n          if(valid){\n            if(this.franchid!=-1){\n              const paramstwo ={\n                id:this.franchid,\n                trueName:this.dataForm.trueName,\n                phone:this.dataForm.phone,\n                inviterPhone:this.dataForm.inviterPhone,\n                adminId :this.dataForm.adminId ,\n                region :this.dataForm.region ,\n              }\n              changeFranchisedadminAPI(paramstwo)\n               .then(res => {\n                    const sucresponse = res.data;\n                    if(sucresponse.code==200&&sucresponse.data==true){\n                      this.$message({\n                        type: 'success',\n                        message: '修改加盟店成功',\n                      });\n                      this.$emit('close-form')\n                      this.$emit('finish-action')\n                    }else{\n                      this.errorMsg(sucresponse.message)\n                    }\n                })\n                .catch(err => {\n                    this.tableLoading = false;\n                })\n            }else{\n              const params =this.dataForm\n              addFranchisedadminAPI(params)\n               .then(res => {\n                    const sucresponse = res.data;\n                    if(sucresponse.code==200){\n                      this.$message({\n                        type: 'success',\n                        message: '添加加盟店成功',\n                      });\n                      this.$emit('close-form')\n                      this.$emit('finish-action')\n                    }else{\n                      this.errorMsg(sucresponse.message)\n                    }\n                })\n                .catch(err => {\n                    this.tableLoading = false;\n                })\n            }\n          }\n        })\n    },\n    // 获取管理员列表\n    getfranchisedAdminList(){\n      getfranchisedAdminListAPI()\n        .then(res => {\n            const data=res.data.data\n            this.freightlist=data\n        })\n        .catch(err => {\n          this.wholeLoding = false;\n        })\n    },\n    errorMsg (message) {\n      this.$message({\n        message: message,\n        type: 'error',\n        duration: 1500\n      })\n    },\n    /*\n      * 返回上层\n      */\n    backhtmls(){\n        this.$emit('close-form')\n    }    \n  },\n  mounted() {\n    this.getfranchisedAdminList()\n    if(this.agentId!=-1){\n      this.getAgentInfomationDetail(this.agentId)\n      this.franchid=this.agentId\n    }\n  },\n}\n</script>\n<style scoped=\"scoped\" lang=\"less\">\n.mbline{\n  margin-top:24px;\n  padding-left: 20px;\n  line-height: 40px;\n  background: rgb(249, 249, 249);\n}\n.paymentpic{\n  width: 100px;\n  height: 100px;\n}\n</style>"],"sourceRoot":"src\\components\\franchisedStoreInformation"}]}