{"remainingRequest":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js!E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HtmlProjects\\wsadmin\\src\\components\\agentInvitationSetUp\\agentInvitationSetUpIndex.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HtmlProjects\\wsadmin\\src\\components\\agentInvitationSetUp\\agentInvitationSetUpIndex.vue","mtime":1573368342335},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport QRCode from 'qrcodejs2';\nimport Clipboard from 'clipboard';\nimport { timeStamp2String } from '@/api/globalAPI.js';\nexport default {\n  name: 'prodList',\n  data: function data() {\n    return {\n      isDiscount: '0',\n      agentid: '',\n      agentLevelList: [{\n        name: '董事',\n        value: 1\n      }, {\n        name: '钻石',\n        value: 2\n      }, {\n        name: '省代',\n        value: 3\n      }, {\n        name: '市代',\n        value: 4\n      }, {\n        name: 'VIP399套餐',\n        value: 5\n      }],\n      dataForm: {\n        checkList: [],\n        url: 'http://ws.zhanchengwlkj.com/zhuce.html?id=0'\n      },\n      timelist: [],\n      stock_type: 1\n    };\n  },\n  components: {// AddDepModal,\n  },\n  props: {},\n  methods: {\n    /**\r\n     * @msg: 时间处理\r\n     * @param {type} \r\n     * @return: \r\n     */\n    timechange: function timechange(time, type) {\n      return timeStamp2String(time, type);\n    },\n    copy: function copy() {\n      var _this = this;\n\n      var clipboard = new Clipboard('.tag-read');\n      clipboard.on('success', function (e) {\n        _this.$message({\n          type: 'success',\n          message: '复制成功'\n        }); // 释放内存\n\n\n        clipboard.destroy();\n      });\n      clipboard.on('error', function (e) {\n        // 不支持复制\n        console.log('该浏览器不支持自动复制'); // 释放内存\n\n        clipboard.destroy();\n      });\n    },\n    dataFormSubmit: function dataFormSubmit() {\n      var _this2 = this;\n\n      var that = this;\n      this.$refs['dataForm'].validate(function (valid) {\n        if (valid) {\n          var params = _this2.dataForm;\n          console.log(params);\n        }\n      });\n    },\n    errorMsg: function errorMsg(message) {\n      this.$message({\n        message: message,\n        type: 'error',\n        duration: 1500\n      });\n    },\n    codeshow: function codeshow() {\n      new QRCode(this.$refs.qrCodeDiv, {\n        text: 'http://ws.zhanchengwlkj.com/zhuce.html?id=0',\n        width: 200,\n        height: 200,\n        colorDark: \"#333333\",\n        //二维码颜色\n        colorLight: \"#ffffff\",\n        //二维码背景色\n        correctLevel: QRCode.CorrectLevel.L //容错率，L/M/H\n\n      });\n    },\n    downcodes: function downcodes() {\n      var myCanvas = document.getElementById('qrcode').getElementsByTagName('canvas');\n      var img = document.getElementById('qrcode').getElementsByTagName('img'); // // //创建一个a标签节点\n\n      var a = document.createElement(\"a\"); // //设置a标签的href属性（将canvas变成png图片）\n\n      var imgURL = myCanvas[0].toDataURL('image/jpg');\n      var ua = navigator.userAgent;\n\n      if (ua.indexOf(\"Trident\") != -1 && ua.indexOf(\"Windows\") != -1) {\n        // IE内核 并且  windows系统 情况下 才执行;\n        var bstr = atob(imgURL.split(',')[1]);\n        var n = bstr.length;\n        var u8arr = new Uint8Array(n);\n\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n\n        var blob = new Blob([u8arr]);\n        window.navigator.msSaveOrOpenBlob(blob, '下载' + '.' + 'png');\n      } else if (ua.indexOf(\"Firefox\") > -1) {\n        //火狐兼容下载\n        var _blob = this.base64ToBlob(imgURL); //new Blob([content]);\n\n\n        var evt = document.createEvent(\"HTMLEvents\");\n        evt.initEvent(\"click\", true, true); //initEvent 不加后两个参数在FF下会报错  事件类型，是否冒泡，是否阻止浏览器的默认行为\n\n        a.download = ' '; //下载图片名称，如果填内容识别不到，下载为未知文件，所以我这里就不填为空\n\n        a.href = URL.createObjectURL(_blob);\n        a.dispatchEvent(new MouseEvent('click', {\n          bubbles: true,\n          cancelable: true,\n          view: window\n        })); //兼容火狐\n      } else {\n        //谷歌兼容下载\n        img.src = myCanvas[0].toDataURL('image/jpg'); // a.href = myCanvas[0].toDataURL('image/png').replace('image/png', 'image/octet-stream')\n\n        a.href = img.src; //设置下载文件的名字\n\n        a.download = \"下载\"; //点击\n\n        a.click();\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.codeshow();\n  }\n};",{"version":3,"sources":["agentInvitationSetUpIndex.vue"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * @Description: 代理邀请设置\r\n * @Author: jian.weng\r\n * @Date: 2019-10-29 10:49:29\r\n */\r\n\r\n<template>\r\n    <div style=\"padding-top:40px\"> \r\n        <el-form :model=\"dataForm\"\r\n            ref=\"dataForm\"\r\n            label-width=\"150px\">\r\n           <el-form-item label-width=\"180px\" label=\"代理方式：\" prop=\"checkList\">\r\n                <el-checkbox-group v-model=\"dataForm.checkList\"  >\r\n                          <el-checkbox v-for=\"item in agentLevelList\" :label=\"item.value\" :key=\"item.value\">{{item.name}}</el-checkbox>\r\n                </el-checkbox-group>\r\n            </el-form-item>\r\n            <el-form-item label-width=\"180px\" label=\"总部邀请代理链接：\">\r\n                {{dataForm.url}}<el-button style=\"margin-left:10px\"  class=\"tag-read\" :data-clipboard-text=\"dataForm.url\" @click=\"copy\">复制链接</el-button>\r\n            </el-form-item>\r\n            <el-form-item label-width=\"180px\" label=\"总部邀请代理链接：\">\r\n                <div id=\"qrcode\" ref=\"qrCodeDiv\"></div>\r\n                <el-button style=\"margin-top:10px;\" type=\"保存到本地\"\r\n                        @click=\"downcodes()\">下载到本地</el-button>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button type=\"primary\"\r\n                        @click=\"dataFormSubmit()\">确定</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport QRCode from 'qrcodejs2';\r\nimport Clipboard from 'clipboard';\r\nimport {\r\n     timeStamp2String,\r\n} from '@/api/globalAPI.js'\r\nexport default {\r\n    name:'prodList',\r\n    data(){\r\n        return{\r\n            isDiscount:'0',\r\n            agentid:'',\r\n            agentLevelList:[{name:'董事',value:1},{name:'钻石',value:2},{name:'省代',value:3},{name:'市代',value:4},{name:'VIP399套餐',value:5}],\r\n            dataForm:{\r\n                checkList:[],\r\n                url:'http://ws.zhanchengwlkj.com/zhuce.html?id=0'\r\n            },\r\n            timelist:[\r\n\r\n            ],\r\n            stock_type:1,\r\n        };\r\n    },\r\n    components:{\r\n        // AddDepModal,\r\n    },\r\n    props: {\r\n    },\r\n    methods:{\r\n        /**\r\n         * @msg: 时间处理\r\n         * @param {type} \r\n         * @return: \r\n         */\r\n        timechange(time,type){\r\n            return timeStamp2String(time,type)\r\n        },\r\n         copy() {\r\n            var clipboard = new Clipboard('.tag-read')\r\n            clipboard.on('success', e => {\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: '复制成功',\r\n                });\r\n              // 释放内存\r\n              clipboard.destroy()\r\n            })\r\n            clipboard.on('error', e => {\r\n              // 不支持复制\r\n              console.log('该浏览器不支持自动复制')\r\n              // 释放内存\r\n              clipboard.destroy()\r\n            })\r\n          },\r\n        dataFormSubmit () {\r\n          let that=this;\r\n            this.$refs['dataForm'].validate((valid) => {\r\n                if(valid){\r\n                    const params =this.dataForm\r\n                    console.log(params)\r\n                }\r\n            })\r\n        },errorMsg (message) {\r\n            this.$message({\r\n                message: message,\r\n                type: 'error',\r\n                duration: 1500\r\n            })\r\n        },codeshow(){\r\n            new QRCode(this.$refs.qrCodeDiv, {\r\n            text: 'http://ws.zhanchengwlkj.com/zhuce.html?id=0',\r\n            width: 200,\r\n            height: 200,\r\n            colorDark: \"#333333\", //二维码颜色\r\n            colorLight: \"#ffffff\", //二维码背景色\r\n            correctLevel: QRCode.CorrectLevel.L//容错率，L/M/H\r\n            })\r\n        },downcodes(){\r\n            let myCanvas = document.getElementById('qrcode').getElementsByTagName('canvas');\r\n            let img=document.getElementById('qrcode').getElementsByTagName('img')\r\n            // // //创建一个a标签节点\r\n            let a= document.createElement(\"a\")\r\n            // //设置a标签的href属性（将canvas变成png图片）\r\n            let imgURL=myCanvas[0].toDataURL('image/jpg');\r\n            let ua = navigator.userAgent;\r\n            if (ua.indexOf(\"Trident\") != -1 && ua.indexOf(\"Windows\") != -1) { // IE内核 并且  windows系统 情况下 才执行;\r\n                var bstr = atob(imgURL.split(',')[1])\r\n                var n = bstr.length\r\n                var u8arr = new Uint8Array(n)\r\n                while (n--) {\r\n                  u8arr[n] = bstr.charCodeAt(n)\r\n                }\r\n                var blob = new Blob([u8arr])\r\n                window.navigator.msSaveOrOpenBlob(blob, '下载' + '.' + 'png')\r\n            }else if(ua.indexOf(\"Firefox\") > -1){ //火狐兼容下载\r\n                let blob = this.base64ToBlob(imgURL); //new Blob([content]);\r\n                let evt = document.createEvent(\"HTMLEvents\");\r\n                evt.initEvent(\"click\", true, true);//initEvent 不加后两个参数在FF下会报错  事件类型，是否冒泡，是否阻止浏览器的默认行为\r\n                a.download = ' ';//下载图片名称，如果填内容识别不到，下载为未知文件，所以我这里就不填为空\r\n                a.href = URL.createObjectURL(blob);\r\n                a.dispatchEvent(new MouseEvent('click', {bubbles: true, cancelable: true, view: window}));//兼容火狐\r\n            }else{ //谷歌兼容下载\r\n                img.src=myCanvas[0].toDataURL('image/jpg');\r\n                // a.href = myCanvas[0].toDataURL('image/png').replace('image/png', 'image/octet-stream')\r\n                a.href=img.src\r\n                //设置下载文件的名字\r\n                a.download = \"下载\"\r\n                 //点击\r\n                a.click()\r\n            }\r\n        }\r\n    },\r\n    mounted(){\r\n      this.codeshow()\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.el-row{\r\n    padding: 10px;\r\n    border:1px solid #000;\r\n}\r\n.mbline{\r\n  margin-top:24px;\r\n  padding-left: 20px;\r\n  line-height: 40px;\r\n  background: rgb(249, 249, 249);\r\n}\r\n</style>\r\n\r\n"],"sourceRoot":"src\\components\\agentInvitationSetUp"}]}