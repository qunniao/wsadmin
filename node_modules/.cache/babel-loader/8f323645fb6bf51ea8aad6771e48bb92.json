{"remainingRequest":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js!E:\\HtmlProjects\\wsadmin\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\HtmlProjects\\wsadmin\\src\\utils\\index.js","dependencies":[{"path":"E:\\HtmlProjects\\wsadmin\\src\\utils\\index.js","mtime":1570497157000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport Vue from 'vue';\nimport router from '@/router';\nimport store from '@/store';\n/**\n * 获取uuid\n */\n\nexport function getUUID() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    return (c === 'x' ? Math.random() * 16 | 0 : 'r&0x3' | '0x8').toString(16);\n  });\n}\n/**\n * 是否有权限\n * @param {*} key\n */\n\nexport function isAuth(key) {\n  var authorities = JSON.parse(sessionStorage.getItem('authorities') || '[]');\n\n  if (authorities.length) {\n    for (var i in authorities) {\n      var element = authorities[i];\n\n      if (element.authority === key) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n/**\n * 树形数据转换\n * @param {*} data\n * @param {*} id\n * @param {*} pid\n */\n\nexport function treeDataTranslate(data) {\n  var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'id';\n  var pid = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'parentId';\n  var res = [];\n  var temp = {};\n\n  for (var i = 0; i < data.length; i++) {\n    temp[data[i][id]] = data[i];\n  }\n\n  for (var k = 0; k < data.length; k++) {\n    if (temp[data[k][pid]] && data[k][id] !== data[k][pid]) {\n      if (!temp[data[k][pid]]['children']) {\n        temp[data[k][pid]]['children'] = [];\n      }\n\n      if (!temp[data[k][pid]]['_level']) {\n        temp[data[k][pid]]['_level'] = 1;\n      }\n\n      data[k]['_level'] = temp[data[k][pid]]._level + 1;\n      temp[data[k][pid]]['children'].push(data[k]);\n    } else {\n      res.push(data[k]);\n    }\n  }\n\n  return res;\n}\n/**\n * 将数组中的parentId列表取出，倒序排列\n * @param {*} data\n * @param {*} id\n * @param {*} pid\n */\n\nexport function idList(data, val) {\n  var id = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'id';\n  var children = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'children';\n  var res = [];\n  idListFromTree(data, val, res, id);\n  return res;\n}\n/**\n * @param {*} data\n * @param {*} id\n * @param {*} pid\n */\n\nfunction idListFromTree(data, val) {\n  var res = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var id = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'id';\n  var children = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 'children';\n\n  for (var i = 0; i < data.length; i++) {\n    var element = data[i];\n\n    if (element[children]) {\n      if (idListFromTree(element[children], val, res, id, children)) {\n        res.push(element[id]);\n        return true;\n      }\n    }\n\n    if (element[id] === val) {\n      res.push(element[id]);\n      return true;\n    }\n  }\n}\n/**\n * 清除登录信息\n */\n\n\nexport function clearLoginInfo() {\n  Vue.cookie.delete('Authorization');\n  store.commit('resetStore');\n  router.options.isAddDynamicMenuRoutes = false;\n}",{"version":3,"sources":["E:\\HtmlProjects\\wsadmin\\src\\utils\\index.js"],"names":["Vue","router","store","getUUID","replace","c","Math","random","toString","isAuth","key","authorities","JSON","parse","sessionStorage","getItem","length","i","element","authority","treeDataTranslate","data","id","pid","res","temp","k","_level","push","idList","val","children","idListFromTree","clearLoginInfo","cookie","delete","commit","options","isAddDynamicMenuRoutes"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport router from '@/router'\nimport store from '@/store'\n\n/**\n * 获取uuid\n */\nexport function getUUID () {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    return (c === 'x' ? (Math.random() * 16 | 0) : ('r&0x3' | '0x8')).toString(16)\n  })\n}\n\n/**\n * 是否有权限\n * @param {*} key\n */\nexport function isAuth (key) {\n  let authorities = JSON.parse(sessionStorage.getItem('authorities') || '[]')\n  if (authorities.length) {\n    for (const i in authorities) {\n      const element = authorities[i]\n      if (element.authority === key) {\n        return true\n      }\n    }\n  }\n  return false\n}\n\n/**\n * 树形数据转换\n * @param {*} data\n * @param {*} id\n * @param {*} pid\n */\nexport function treeDataTranslate (data, id = 'id', pid = 'parentId') {\n  var res = []\n  var temp = {}\n  for (var i = 0; i < data.length; i++) {\n    temp[data[i][id]] = data[i]\n  }\n  for (var k = 0; k < data.length; k++) {\n    if (temp[data[k][pid]] && data[k][id] !== data[k][pid]) {\n      if (!temp[data[k][pid]]['children']) {\n        temp[data[k][pid]]['children'] = []\n      }\n      if (!temp[data[k][pid]]['_level']) {\n        temp[data[k][pid]]['_level'] = 1\n      }\n      data[k]['_level'] = temp[data[k][pid]]._level + 1\n      temp[data[k][pid]]['children'].push(data[k])\n    } else {\n      res.push(data[k])\n    }\n  }\n  return res\n}\n\n/**\n * 将数组中的parentId列表取出，倒序排列\n * @param {*} data\n * @param {*} id\n * @param {*} pid\n */\nexport function idList (data, val, id = 'id', children = 'children') {\n  let res = []\n  idListFromTree(data, val, res, id)\n  return res\n}\n\n/**\n * @param {*} data\n * @param {*} id\n * @param {*} pid\n */\nfunction idListFromTree (data, val, res = [], id = 'id', children = 'children') {\n  for (let i = 0; i < data.length; i++) {\n    const element = data[i]\n    if (element[children]) {\n      if (idListFromTree(element[children], val, res, id, children)) {\n        res.push(element[id])\n        return true\n      }\n    }\n    if (element[id] === val) {\n      res.push(element[id])\n      return true\n    }\n  }\n}\n\n/**\n * 清除登录信息\n */\nexport function clearLoginInfo () {\n  Vue.cookie.delete('Authorization')\n  store.commit('resetStore')\n  router.options.isAddDynamicMenuRoutes = false\n}\n"]}]}