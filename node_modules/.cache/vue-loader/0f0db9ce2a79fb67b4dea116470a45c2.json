{"remainingRequest":"E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HtmlProjects\\wsadmin\\src\\components\\paymentAudit\\paymentAuditIndex.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HtmlProjects\\wsadmin\\src\\components\\paymentAudit\\paymentAuditIndex.vue","mtime":1573640208637},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst SecondIndex = () => import('./paymentAuditInfo.vue');\nimport {\n     getPaymentListAPI,\n     checkVoucherOkAPI,\n     checkVoucherNoAPI\n} from '@/api/paymentAuditAPI.js'\nexport default {\n    name:'prodList',\n    data(){\n        return{\n            form:{\n                current:1,\n                size:10,\n            },\n            paymentId:'',\n            secondDepShow:false,\n            orderTypelist:{\n                1:\"采购订单\",\n                2:\"零售订单\",\n                3:\"提货订单\",\n                4:\"内购订单\",\n                5:\"换货订单\",\n            },\n            reviewStateList:{\n                0:'待审核',\n                1:'审核通过',\n                2:'已拒绝'\n            },\n            shoptypelist:[{name:'全部',val:'1',nownum:''},{name:'待总部审核',val:'2',nownum:''},{name:'待代理审核',val:'3',nownum:''},{name:'已付款',val:'4',nownum:''},{name:'已失效',val:'5',nownum:''}],\n            shoptype:1,\n            searchshow:false,\n            keyword:\"\",\n            tableData:[],\n            totalCount:0,\n            tableLoading:false,\n        };\n    },\n    components:{\n        SecondIndex\n    },\n    methods:{\n       \n        /**\n         * @msg: 翻页\n         * @param {type} \n         * @return: \n         */\n        handleSizeChange(cSize) {\n            this.form.size = cSize;\n            this.getStockList();\n        },\n        paymentAuditIsOk(id,type){\n            const params={\n                id:id,\n                reviewState:type,\n                auditorType:1\n            }\n            console.log(params)\n            if(type==1){\n                checkVoucherOkAPI(params)\n                    .then(res => {\n                        const response = res.data;\n                        if(response.code==200){\n                        this.$message({\n                            type: 'success',\n                            message: '通过审核成功',\n                        });\n                        this.$emit('close-form')\n                        this.$emit('finish-action')\n                        }else{\n                        this.errorMsg(response.message)\n                        }\n                    })\n                    .catch(err => {\n                        this.tableLoading = false;\n                    })\n            }else{\n                checkVoucherNoAPI(params)\n                    .then(res => {\n                        const response = res.data;\n                        if(response.code==200){\n                            this.$message({\n                                type: 'success',\n                                message: '驳回审核成功',\n                            });\n                            this.$emit('close-form')\n                            this.$emit('finish-action')\n                        }else{\n                        this.errorMsg(response.message)\n                        }\n                    })\n                    .catch(err => {\n                        this.tableLoading = false;\n                    })\n            }\n            console.log(params)\n        },\n        handleChangePatmentDetail(id){\n            console.log(id)\n            this.paymentId=id;\n            this.secondDepShow=true\n        },\n        changeshow(){\n            console.log(123)\n            this.searchshow=!this.searchshow\n        },\n        handleCurrentChange(currentPage) {\n            this.form.current = currentPage;\n            this.getStockList();\n        },\n        getStockList(){\n            const params = {...this.form};\n            this.tableLoading = true;\n             getPaymentListAPI(params)\n                .then(res => {\n                    const data = res.data.data;\n                    this.totalCount = data.totalCount;\n                    this.tableData = data.records;\n                    this.tableLoading = false;\n                })\n                .catch(err => {\n                    this.tableLoading = false;\n                })\n        }\n    },\n    created(){\n        this.getStockList()\n    }\n}\n",null]}