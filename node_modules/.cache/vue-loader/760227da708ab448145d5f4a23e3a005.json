{"remainingRequest":"E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HtmlProjects\\wsadmin\\src\\components\\prodTwo\\sku-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HtmlProjects\\wsadmin\\src\\components\\prodTwo\\sku-table.vue","mtime":1572513609578},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import PicUpload from '@/components/pic-upload'\nexport default {\n  data () {\n    return {\n      // 数据库中的规格\n      dbSpecs: [],\n      // 根据选定的规格所查询出来的规格值\n      dbSpecValues: [],\n      specs: [], // 使用的规格\n      initing: false\n    }\n  },\n  components: {\n    // PicUpload\n  },\n  props: {\n    value: {\n      default: [],\n      type: Array\n    },\n  },\n  watch: {\n  },\n  // activated: function () {\n  //   this.$emit('input', [Object.assign({}, this.defalutSku)])\n  // },\n  created: function () {\n    // this.$http({\n    //   url: this.$http.adornUrl(`/prod/spec/list`),\n    //   method: 'get',\n    //   params: this.$http.adornParams()\n    // }).then(({data}) => {\n    //   this.dbSpecs = data\n    // })\n  },\n  computed: {\n    tableLeftTitles () {\n      let res = []\n      for (let i = 0; i < this.skuTags.length; i++) {\n        const skuTag = this.skuTags[i]\n        res.push(skuTag.tagName)\n      }\n      return res\n    },\n    skuTags: {\n      get () { return this.$store.state.prod.skuTags }\n    },\n    defalutSku () {\n      return this.$store.state.prod.defalutSku\n    }\n  },\n  methods: {\n    init () {\n      this.initing = true\n    },\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\n      const isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG或者PNG 格式!');\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n      return isJPG && isLt2M;\n    },  \n    getTableSpecData () {\n      return this.value\n    },\n    tableSpanMethod ({ row, column, rowIndex, columnIndex }) {\n\n    },\n    changeSkuCover(index,res){\n      console.log(res)\n      console.log(index)\n      this.value[index].pic = res.data\n      \n    },\n    changeSkuStatus (tagIndex) {\n      this.value[tagIndex].status = this.value[tagIndex].status ? 0 : 1\n    },\n    skuAddProdName () {\n      if (this.initing) {\n        return\n      }\n      let skuList = []\n      for (let i = 0; i < this.value.length; i++) {\n        const sku = Object.assign({}, this.value[i])\n        if (!sku.properties) {\n          return\n        }\n        sku.skuName = ''\n        let properties = sku.properties.split(';')\n        for (const propertiesKey in properties) {\n          sku.skuName += properties[propertiesKey].split(':')[1] + ' '\n        }\n        skuList.push(sku)\n      }\n      this.$emit('input', skuList)\n    }\n  }\n}\n",null]}