{"remainingRequest":"E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HtmlProjects\\wsadmin\\src\\components\\franchisedStoreInformation\\franchisedStoreInformationIndex.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HtmlProjects\\wsadmin\\src\\components\\franchisedStoreInformation\\franchisedStoreInformationIndex.vue","mtime":1576051488764},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1576862582236},{"path":"E:\\HtmlProjects\\wsadmin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nconst SecondIndex = () => import('./franchisedStoreInformationInfo.vue');\r\nimport {\r\n     getAgentInfoListAPI,\r\n     delAngetuserAPI\r\n} from '@/api/agentInformationApi.js'\r\nexport default {\r\n    name:'prodList',\r\n    data(){\r\n        return{\r\n            form:{\r\n                size:10,\r\n                current:1,\r\n                levelId:9,\r\n                search:''\r\n            },\r\n            reviewedList:{\r\n                1:'审核通过',\r\n                0:'未通过'\r\n            },\r\n            agentId:'',\r\n            value1:[,],\r\n            shoptypelist:[{name:'出售中',val:'1',nownum:''},{name:'已下架',val:'2',nownum:''},{name:'库存预警',val:'3',nownum:''}],\r\n            shoptype:1,\r\n            shopClassification:'',\r\n            ommodityType:'',\r\n            searchshow:false,\r\n            keyword:\"\",\r\n            tableData:[],\r\n            totalCount:0,\r\n            tableLoading:false,\r\n            secondDepShow:false,\r\n          \r\n        };\r\n    },\r\n    components:{\r\n        SecondIndex,\r\n    },\r\n    methods:{\r\n       \r\n        /**\r\n         * @msg: 翻页\r\n         * @param {type} \r\n         * @return: \r\n         */\r\n        handleSizeChange(cSize) {\r\n            this.form.size = cSize;\r\n            this.getStockList();\r\n        },\r\n        changeshow(){\r\n            this.searchshow=!this.searchshow\r\n        },\r\n        delangetuser(id){\r\n            this.$confirm('确定要删除该用户么？（此操作不可逆）', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            })\r\n                .then(() => {\r\n                    delAngetuserAPI(id)\r\n                    .then(res => {\r\n                        if(res.data.code === 200){\r\n                            this.$message({\r\n                                type: 'success',\r\n                                message: '该用户已经删除',\r\n                            });\r\n                            this.getStockList()\r\n                        }else{\r\n                            this.$message.error(res.data.msg)\r\n                        }                   \r\n                    })\r\n                    .catch(err => {\r\n                    })\r\n                })\r\n        },\r\n        changeagentdetail(id){\r\n            this.secondDepShow=true\r\n            this.agentId=id\r\n        },\r\n       \r\n        handleCurrentChange(currentPage) {\r\n            this.form.current = currentPage;\r\n            this.getStockList();\r\n        },\r\n        getStockList(){\r\n            const params = {...this.form};\r\n            this.tableLoading = true;\r\n             getAgentInfoListAPI(params)\r\n                .then(res => {\r\n                    const data = res.data.data;\r\n                    this.totalCount = data.total;\r\n                    this.tableData = data.records;\r\n                    this.tableLoading = false;\r\n                })\r\n                .catch(err => {\r\n                    this.tableLoading = false;\r\n                })\r\n        }\r\n    },\r\n    created(){\r\n        this.getStockList()\r\n    }\r\n}\r\n",{"version":3,"sources":["franchisedStoreInformationIndex.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"franchisedStoreInformationIndex.vue","sourceRoot":"src\\components\\franchisedStoreInformation","sourcesContent":["/*\r\n * @Description: 加盟店信息\r\n * @Author: jian.weng\r\n * @Date: 2019-10-29 10:49:29\r\n */\r\n\r\n<template>\r\n    <div>\r\n        <!-- <div class=\"header\"> -->\r\n            <!-- <el-button type=\"primary\">导出</el-button> -->\r\n        <!-- </div> -->\r\n        <div class=\"filter\" style=\"margin-top:20px\">\r\n            <el-form class=\"fl-l\" inline>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"changeagentdetail(-1)\">新增</el-button>\r\n                </el-form-item>\r\n                <el-form-item label=\"代理信息:\">\r\n                    <el-col :span=\"24\">\r\n                        <el-input v-model=\"form.search\" placeholder=\"姓名、手机号、微信昵称搜索\" ></el-input>\r\n                    </el-col>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button @click=\"getStockList\" type=\"primary\">查找</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>        \r\n        <div class=\"table_body\">\r\n            <el-table\r\n            :data=\"tableData\"\r\n            border\r\n            size=\"medium \"\r\n            style=\"width: 100%\">\r\n                <el-table-column\r\n                prop=\"trueName\"\r\n                label=\"加盟店信息\"\r\n                min-width=\"300\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div @click=\"changeagentdetail(scope.row.id)\">店主姓名:{{scope.row.trueName}}</div>\r\n                        <div>加盟店名称:{{scope.row.storeName }}</div>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"inviterNick\"\r\n                label=\"邀请人信息\"\r\n                min-width=\"300\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div>邀请人姓名:{{scope.row.inviterNick}}</div>\r\n                        <div>邀请人手机号:{{scope.row.inviterPhone}}</div>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"phone\"\r\n                label=\"电话\"\r\n                min-width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"lockStock\"\r\n                label=\"加盟店管理员信息\"\r\n                min-width=\"180\">\r\n                 <template slot-scope=\"scope\">\r\n                        <div>管理员姓名:{{scope.row.adminName}}</div>\r\n                        <div>手机号:{{scope.row.adminPhone}}</div>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"monthPrice\"\r\n                label=\"最近30天进货金额\"\r\n                min-width=\"180\">\r\n                <template slot-scope=\"scope\">\r\n                        <div>{{scope.row.monthPrice?scope.row.monthPrice:'0.00'}}</div>\r\n                </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"totalPrice\"\r\n                label=\"总进货金额\"\r\n                min-width=\"180\">\r\n                 <template slot-scope=\"scope\">\r\n                        <div>{{scope.row.totalPrice?scope.row.totalPrice:'0.00'}}</div>\r\n                </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"gmtCreate\"\r\n                label=\"加入时间\"\r\n                min-width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"reviewed\"\r\n                label=\"审核状态\"\r\n                min-width=\"180\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div>{{reviewedList[scope.row.reviewed]}}</div>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                label=\"操作\"\r\n                min-width=\"300\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                            size=\"mini\"\r\n                            type=\"primary\"\r\n                            v-if=\"scope.row.reviewed==1\"\r\n                            plain\r\n                            @click=\"changeagentdetail(scope.row.id)\">修改</el-button>\r\n                        <el-button\r\n                            size=\"mini\"\r\n                            type=\"primary\"\r\n                            plain\r\n                            @click=\"delangetuser(scope.row.id)\">删除</el-button>    \r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <div class=\"table-footer--APP\" slot=\"append\">\r\n                <el-pagination\r\n                :current-page=\"form.current\"\r\n                :page-sizes=\"[10, 20, 30, 40, 50, 60, 70, 80, 90]\"\r\n                :page-size=\"form.limit\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"totalCount\"\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\">\r\n                </el-pagination>\r\n            </div>\r\n            <el-dialog\r\n            title=\"加盟店信息\"\r\n            :append-to-body=\"true\"\r\n            :visible.sync=\"secondDepShow\"\r\n            width=\"80%\">\r\n                <second-index\r\n                :agent-id=\"agentId\"\r\n                v-if=\"secondDepShow\"\r\n                @finish-action=\"getStockList\"\r\n                @close-form=\"secondDepShow = false\"\r\n                ></second-index>\r\n            </el-dialog>\r\n          \r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nconst SecondIndex = () => import('./franchisedStoreInformationInfo.vue');\r\nimport {\r\n     getAgentInfoListAPI,\r\n     delAngetuserAPI\r\n} from '@/api/agentInformationApi.js'\r\nexport default {\r\n    name:'prodList',\r\n    data(){\r\n        return{\r\n            form:{\r\n                size:10,\r\n                current:1,\r\n                levelId:9,\r\n                search:''\r\n            },\r\n            reviewedList:{\r\n                1:'审核通过',\r\n                0:'未通过'\r\n            },\r\n            agentId:'',\r\n            value1:[,],\r\n            shoptypelist:[{name:'出售中',val:'1',nownum:''},{name:'已下架',val:'2',nownum:''},{name:'库存预警',val:'3',nownum:''}],\r\n            shoptype:1,\r\n            shopClassification:'',\r\n            ommodityType:'',\r\n            searchshow:false,\r\n            keyword:\"\",\r\n            tableData:[],\r\n            totalCount:0,\r\n            tableLoading:false,\r\n            secondDepShow:false,\r\n          \r\n        };\r\n    },\r\n    components:{\r\n        SecondIndex,\r\n    },\r\n    methods:{\r\n       \r\n        /**\r\n         * @msg: 翻页\r\n         * @param {type} \r\n         * @return: \r\n         */\r\n        handleSizeChange(cSize) {\r\n            this.form.size = cSize;\r\n            this.getStockList();\r\n        },\r\n        changeshow(){\r\n            this.searchshow=!this.searchshow\r\n        },\r\n        delangetuser(id){\r\n            this.$confirm('确定要删除该用户么？（此操作不可逆）', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            })\r\n                .then(() => {\r\n                    delAngetuserAPI(id)\r\n                    .then(res => {\r\n                        if(res.data.code === 200){\r\n                            this.$message({\r\n                                type: 'success',\r\n                                message: '该用户已经删除',\r\n                            });\r\n                            this.getStockList()\r\n                        }else{\r\n                            this.$message.error(res.data.msg)\r\n                        }                   \r\n                    })\r\n                    .catch(err => {\r\n                    })\r\n                })\r\n        },\r\n        changeagentdetail(id){\r\n            this.secondDepShow=true\r\n            this.agentId=id\r\n        },\r\n       \r\n        handleCurrentChange(currentPage) {\r\n            this.form.current = currentPage;\r\n            this.getStockList();\r\n        },\r\n        getStockList(){\r\n            const params = {...this.form};\r\n            this.tableLoading = true;\r\n             getAgentInfoListAPI(params)\r\n                .then(res => {\r\n                    const data = res.data.data;\r\n                    this.totalCount = data.total;\r\n                    this.tableData = data.records;\r\n                    this.tableLoading = false;\r\n                })\r\n                .catch(err => {\r\n                    this.tableLoading = false;\r\n                })\r\n        }\r\n    },\r\n    created(){\r\n        this.getStockList()\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.filter {\r\n    padding-right: 130px;\r\n    position: relative;\r\n    margin-left: 20px;\r\n    .action-export {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n    }\r\n}\r\n    .header{\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n    .header p{\r\n        margin:20px;\r\n    }\r\n    .header button{\r\n        margin: 10px\r\n    }\r\n.prod-img{\r\n  max-width: 64px;\r\n    min-width: 64px;\r\n    width: 64px;\r\n    height: 64px;\r\n    line-height: 64px;\r\n    border-radius: 4px;\r\n}\r\n.prod-detail{\r\n  display: inline-block;\r\n  margin-left: 10px;\r\n  line-height: 24px;\r\n}\r\n</style>\r\n\r\n"]}]}